(this["webpackJsonpjewish_trail_2.0"]=this["webpackJsonpjewish_trail_2.0"]||[]).push([[0],{59:function(e,t,a){e.exports=a(82)},64:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),s=a.n(i),l=(a(64),a(6)),c=a(7),o=a(9),u=a(8),m=a(12),h=a(10),d=a(5),p=a(28),f=a(2),g=a.n(f),b=a(4),v=a(84),E=a(85),y=a(83),w=a(86),k=a(53),x=a.n(k),S=(a(66),a(67),a(68),x.a.initializeApp({apiKey:"AIzaSyDxnwrW4yBF4d0QDXoFSCF9FBNDauq68gE",authDomain:"jewish-trail.firebaseapp.com",databaseURL:"https://jewish-trail.firebaseio.com",projectId:"jewish-trail",storageBucket:"jewish-trail.appspot.com",messagingSenderId:"1060927552672",appId:"1:1060927552672:web:7288a483d83a16b7da9dc5",measurementId:"G-D4K9DSRZ0K"})),j=S.firestore(),O=S.functions();function C(e,t){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(g.a.mark((function e(t,a){var n,r,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],"tags"!==t){e.next=12;break}return r=[a],e.next=5,j.collection("sites").get();case 5:return i=e.sent,s=[],i.forEach((function(e){var t=e.data().tags;r.every((function(e){return t.includes(e)}))&&s.push(e)})),s.forEach((function(e){L(n,e)})),e.abrupt("return",n);case 12:return e.next=14,j.collection("sites").where(t,"==",a).get();case 14:return e.sent.docs.forEach((function(e){L(n,e)})),console.log(n),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){e.push({name:t.data().name,city:t.data().city,country:t.data().country,tags:t.data().tags,id:t.id})}function I(e){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,j.collection("sites").where("country","==",t).get();case 3:return e.sent.docs.forEach((function(e){var t=e.data();a.push({id:e.id,name:t.name,address:t.address,partialInfo:t.partialInfo,latitude:t.latitude,longitude:t.longitude})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=a(16),U=a.n(A).a.icon({iconUrl:"http://www.clker.com/cliparts/k/a/2/B/c/u/map-marker-red-th.png",iconSize:[24.8,39.6],iconAnchor:[12.4,39.6],popupAnchor:[0,-30]}),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={location:{lat:41.294856,lng:-4.055685},zoom:5,haveUsersLocation:!1,markers:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.geolocation.getCurrentPosition((function(e){fetch("https://ipapi.co/json").then((function(e){return e.json()})).then((function(e){a.setState({country:e.country_name})})),a.setState({location:{lat:e.coords.latitude,lng:e.coords.longitude},haveUsersLocation:!0,zoom:13})}),(function(){console.log("access denied"),fetch("https://ipapi.co/json").then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({location:{lat:e.latitude,lng:e.longitude},country:e.country_name,haveUsersLocation:!0,zoom:13})}))})),e.next=3,I("Spain");case 3:t=e.sent,console.log(t),this.setState({markers:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[this.state.location.lat,this.state.location.lng];return r.a.createElement("div",null,r.a.createElement("p",null,'Welcome to the "Jewish Trail" project.'),r.a.createElement("p",null,"Our goal is to strenghen the bond between the jewish people around the world by improving access to our shared history and heritage."),r.a.createElement("p",null,"Feel free to go on a journey and rediscover the marks the we left on the world and in the history books."),r.a.createElement(v.a,{style:{height:"400px",width:"60%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -10%)"},center:e,zoom:this.state.zoom},r.a.createElement(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.haveUsersLocation?r.a.createElement(y.a,{position:e,icon:U},r.a.createElement(w.a,null,"A pretty CSS3 popup. ",r.a.createElement("br",null)," Easily customizable.")):"",this.state.markers.map((function(e,t){return r.a.createElement(y.a,{key:t,position:[e.latitude,e.longitude],icon:U},r.a.createElement(w.a,null,e.address,r.a.createElement("br",null),e.partialInfo,r.a.createElement("br",null),r.a.createElement(d.b,{to:"/site/"+e.id},"More info")))}))))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={action:""},a.activeAction=function(e){a.setState({action:e.target.id})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"black-text text-darken-3",style:{marginLeft:"-210px"}},"Welcome to Site Management. choose an Option:"),r.a.createElement("button",{className:"btn pink lighten-1",id:"create"},r.a.createElement(d.b,{to:"/createSite",className:"white-text"},"Create new Site")),r.a.createElement("button",{className:"btn pink lighten-1",style:{marginLeft:"30px"},id:"delete"},r.a.createElement(d.b,{className:"white-text",to:"/deleteSite"},"Delete Site")),r.a.createElement("button",{className:"btn pink lighten-1",style:{marginLeft:"30px"},id:"change"},r.a.createElement(d.b,{className:"white-text",to:"/updateSite"},"Update Site")))}}]),t}(n.Component),F=a(18),z=a(34);function B(){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new z.auth.GoogleAuthProvider,e.next=3,z.auth().setPersistence(z.auth.Auth.Persistence.SESSION);case 3:return e.next=5,z.auth().signInWithPopup(t);case 5:return a=S.auth().currentUser,e.next=8,P(a.uid);case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",a.uid);case 10:return n=a.displayName,e.next=13,W(a.uid,n);case 13:return e.abrupt("return",a.uid);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("accounts").doc(t).get();case 2:if(!e.sent.exists){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(b.a)(g.a.mark((function e(t,a,n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),S.auth().createUserWithEmailAndPassword(a,n).then((function(e){W(e.user.uid,r)})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,j.collection("accounts").doc(t).set({user_name:a,favorites:[]});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).googleLogin=Object(b.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:a=t.sent,console.log(a),e.setState({isLoggedIn:!0,userInfo:a});case 5:case"end":return t.stop()}}),t)}))),e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.state={userInfo:null,email:"",password:"",isLoggedIn:!1},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.auth().onAuthStateChanged(function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?t.setState({isLoggedIn:!0}):t.setState({isLoggedIn:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement(p.a,{to:"/Menu"}):r.a.createElement("div",{className:"col-md-6"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("button",{type:"submit",onClick:function(t){return function(e,t,a){e.preventDefault(),S.auth().signInWithEmailAndPassword(t,a).then((function(e){console.log("logged in"+S.auth().currentUser)})).catch((function(e){console.log(e)}))}(t,e.state.email,e.state.password)},className:"btn black lighten-2 z-depth-0"},"Login"),r.a.createElement("small",{id:"signitup",className:"form-text text-muted"},"Not a member yet? sign up now"),r.a.createElement("button",{className:"btn white lighten-1 z-depth-0"},r.a.createElement(d.b,{to:"/SignUp"},"Signup")),r.a.createElement("button",{onClick:Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.googleLogin());case 1:case"end":return t.stop()}}),t)}))),className:"googleBtn",type:"button"},"Login With Google"),r.a.createElement("button",{className:"btn white lighten-1 z-depth-0 "},r.a.createElement(d.b,{to:"/Menu"},"Enter as guest"))))}}]),t}(n.Component),G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleChange=e.handleChange.bind(Object(m.a)(e)),e.state={isLoggenIn:!1,email:"",password:"",user_name:""},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.auth().onAuthStateChanged(function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?t.setState({isLoggedIn:!0}):t.setState({isLoggedIn:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?r.a.createElement(p.a,{to:"/Menu"}):r.a.createElement("div",{className:"col-md"},r.a.createElement("form",null,r.a.createElement("div",{className:"for-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"for-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("div",{className:"for-group"},r.a.createElement("label",null,"user_name"),r.a.createElement("input",{value:this.state.user_name,onChange:this.handleChange,type:"text",name:"user_name",className:"form-control",id:"exampleFirstName",placeholder:"user Name"})),r.a.createElement("button",{onClick:function(t){return function(e,t,a,n){return q.apply(this,arguments)}(t,e.state.email,e.state.password,e.state.user_name)},className:"btn btn-success"},"Signup")))}}]),t}(n.Component),H=a(27),K=function(e){var t=e.props,a="/site/"+t.id;return r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("div",{className:"site-name "},"Name: ",t.name),r.a.createElement("div",{className:"site-city "},"City: ",t.city),r.a.createElement("div",{className:"site-country "},"Country: ",t.country),r.a.createElement("div",{className:"container"},t.tags.map((function(e,t){return r.a.createElement("span",{key:t}," ",e," ")}))),r.a.createElement(d.b,{to:a},"More info")))},Q=[{value:"tags",label:"Tags"},{value:"country",label:"Country"},{value:"city",label:"City"},{value:"name",label:"Name"}],$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={searchVal:"",topDownValue:"tags",siteList:[],chosenSite:null,changingFlag:!1},a.onSearchButtonClicked=a.onSearchButtonClicked.bind(Object(m.a)(a)),a.updateSearchValue=a.updateSearchValue.bind(Object(m.a)(a)),a.updateTopDownhValue=a.updateTopDownhValue.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onSearchButtonClicked",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(this.state.topDownValue,this.state.searchVal);case 3:(a=e.sent).length||alert("no Result"),this.setState({siteList:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSearchValue",value:function(e){this.setState({searchVal:e.target.value})}},{key:"updateTopDownhValue",value:function(e){this.setState({topDownValue:e.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",{className:"grey-text text-darken-3"},"Search Site to Update"),r.a.createElement("form",{ref:this.form,id:"search-form"},r.a.createElement("div",{className:"search-field"},r.a.createElement("textarea",{ref:this.searchVal,onChange:this.updateSearchValue,type:"text",required:!0})),r.a.createElement(H.a,{ref:this.dropList,defaultValue:Q[0],onChange:this.updateTopDownhValue,options:Q}),r.a.createElement("button",{onClick:this.onSearchButtonClicked},"Search"),r.a.createElement("p",{className:"error pink-text center-align"})),r.a.createElement("ul",{className:"container",bind:this.state.siteList},this.state.siteList.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(K,{props:e}),r.a.createElement("button",null,r.a.createElement(d.b,{to:"/updateSite/"+e.id},"update Site")))}))),r.a.createElement("button",{className:"btn pink lighten-1",type:"button"},r.a.createElement(d.b,{className:"white-text",to:"/adminPage"},"Return to Admin Menu")))}}]),t}(n.Component),X=a(24);function Z(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("sites").add({name:t.name,city:t.city,country:t.country,tags:t.tags,adress:t.adress,externalSourceUrl:t.externalSourceUrl,imageUrl:t.imageUrl,fullInfo:t.fullInfo,partialInfo:t.partialInfo,latitude:t.latitude,longitude:t.longitude});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("sites").doc(t.id).update({name:t.name,city:t.city,country:t.country,tags:t.tags,adress:t.adress,externalSourceUrl:t.externalSourceUrl,imageUrl:t.imageUrl,fullInfo:t.fullInfo,partialInfo:t.partialInfo,latitude:t.latitude,longitude:t.longitude});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("sites").doc(t.id).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","guest");case 2:return a="registered",e.next=5,t.getIdTokenResult();case 5:return n=e.sent,t.admin=n.claims.admin,t.admin?a="admin":(console.log("is registered"),a="registered"),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("accounts").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data().favorites);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(g.a.mark((function e(t){var a,n,r,i,s,l,c,o,u,m,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,se(t);case 3:n=e.sent,r=0,i=!0,s=!1,l=void 0,e.prev=8,c=n[Symbol.iterator]();case 10:if(i=(o=c.next()).done){e.next=21;break}return u=o.value,e.next=14,j.collection("sites").doc(u).get();case 14:m=e.sent,h=m.data(),a.push({tags:h.tags,name:h.name,city:h.city,country:h.country,id:r,uid:u}),r+=1;case 18:i=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),s=!0,l=e.t0;case 27:e.prev=27,e.prev=28,i||null==c.return||c.return();case 30:if(e.prev=30,!s){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return e.abrupt("return",a);case 36:case"end":return e.stop()}}),e,null,[[8,23,27,35],[28,,30,34]])})))).apply(this,arguments)}function ue(e,t){return me.apply(this,arguments)}function me(){return(me=Object(b.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("accounts").doc(t).update({favorites:a}).catch((function(e){console.error("Error removing document: ",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return de.apply(this,arguments)}function de(){return(de=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("sites").doc(t).get();case 2:return e.abrupt("return",e.sent.data());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(b.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.siteListID,n=t.roadName,r=t.roadDescription,e.next=3,j.collection("roads").add({roadName:n,description:r,siteList:a});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(F.a)({},e.target.id,e.target.value))},a.addToken=function(e){a.setState({tags:[].concat(Object(X.a)(a.state.tags),[""])})},a.deleteTag=function(e,t){var n=Object(X.a)(a.state.tags);n.splice(t,1),a.setState({tags:n})},console.log(e),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.state={tags:[],Name:"",city:"",country:"",adress:"",externalSourceUrl:"",imageUrl:"",fullInfo:"",partialInfo:"",latitude:null,longitude:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChangeTokens",value:function(e,t){this.state.tags[t]=e.target.value,this.setState({tags:this.state.tags})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:this.state.name,city:this.state.city,country:this.state.country,tags:this.state.tags,adress:this.state.adress,externalSourceUrl:this.state.externalSourceUrl,imageUrl:this.state.imageUrl,fullInfo:this.state.fullInfo,partialInfo:this.state.partialInfo,latitude:parseFloat(this.state.latitude),longitude:parseFloat(this.state.longitude)},e.next=4,Z(a);case 4:alert("created a new site"),this.props.history.push("/adminPage");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create a New Site"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},id:"create-site-form"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"name"}," Site Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"city",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"city"}," City Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"country",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"country"}," Country Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"adress",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"adress"},"  Address")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"externalSourceUrl",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"externalSourceUrl"}," External Url Link")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"imageUrl",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"imageUrl"}," Image Url Link")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"fullInfo",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"fullInfo"}," Enter Description")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"partialInfo",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"partialInfo"}," Enter Marker Description")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"latitude",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"latitude"}," Enter latitude")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"longitude",className:"materialize-textarea",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"longitude"}," Enter longitude")),r.a.createElement("label",null,"Tags"),this.state.tags.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("input",{onChange:function(t){return e.handleChangeTokens(t,a)},value:t}),r.a.createElement("button",{type:"button",onClick:function(t){return e.deleteTag(a)}}," Delete Tag"))})),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",id:"token",onClick:this.addToken},"Add Tag"),r.a.createElement("hr",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{type:"submit",className:"btn pink lighten-1",color:"red"},"Create Site"),r.a.createElement("button",{style:{marginLeft:"50px"},type:"button",className:"btn pink lighten-1"},r.a.createElement(d.b,{className:"white-text",to:"/adminPage"},"Return to Admin Menu")))))}}]),t}(n.Component),be=[{value:"tags",label:"Tags"},{value:"country",label:"Country"},{value:"city",label:"City"},{value:"name",label:"Name"}],ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={searchVal:"",topDownValue:"tags",siteList:[]},a.onSearchButtonClicked=a.onSearchButtonClicked.bind(Object(m.a)(a)),a.updateSearchValue=a.updateSearchValue.bind(Object(m.a)(a)),a.updateTopDownhValue=a.updateTopDownhValue.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"DeleteSite",value:function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.siteList[a],e.next=4,ae(n);case 4:console.log("site"+n.name+"had deleted"),(r=Object(X.a)(this.state.siteList)).splice(a,1),this.setState({siteList:r});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onSearchButtonClicked",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(this.state.topDownValue,this.state.searchVal);case 3:a=e.sent,console.log(a),this.setState({siteList:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSearchValue",value:function(e){this.setState({searchVal:e.target.value})}},{key:"updateTopDownhValue",value:function(e){this.setState({topDownValue:e.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h5",{className:"grey-text text-darken-3"},"Search Site to Delete"),r.a.createElement("form",{ref:this.form,id:"search-form"},r.a.createElement("div",{className:"search-field"},r.a.createElement("textarea",{ref:this.searchVal,onChange:this.updateSearchValue,type:"text",required:!0})),r.a.createElement(H.a,{ref:this.dropList,defaultValue:be[0],onChange:this.updateTopDownhValue,options:be}),r.a.createElement("button",{onClick:this.onSearchButtonClicked},"Search"),r.a.createElement("p",{className:"error pink-text center-align"})),r.a.createElement("ul",{className:"container",bind:this.state.siteList},this.state.siteList.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(K,{props:t}),r.a.createElement("button",{onClick:function(t){return e.DeleteSite(t,a)}},"Delete Site"))}))),r.a.createElement("button",{className:"btn pink lighten-1"},r.a.createElement(d.b,{className:"white-text",to:"/adminPage"},"Return to Admin Menu")))}}]),t}(n.Component),Ee=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("p",null," Welcome to Admin Menu, Please select a Option:"),r.a.createElement("button",{className:"btn pink lighten-1"},r.a.createElement(d.b,{className:"white-text",to:"/adminPage"},"Site Management")),r.a.createElement("button",{style:{marginLeft:"30px"},className:"btn pink lighten-1"},r.a.createElement(d.b,{className:"white-text",to:"/auth"},"Users Management")))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={action:"",email:""},a.handleChange=function(e){a.setState(Object(F.a)({},e.target.id,e.target.value))},a.deleteUser=function(e){var t=a.state.email;console.log(t),a.setState({email:""}),O.httpsCallable("deleteUserByEmails")({email:t}).then((function(e){alert(e.data.message),a.props.history.push("/admin")}))},a.createAdmin=function(e){var t=a.state.email;console.log(t),a.setState({email:""}),O.httpsCallable("addAdminRole")({email:t}).then((function(e){console.log(e),alert(e.data.message),a.props.history.push("/admin")}))},a.activeAction=function(e){a.setState({action:e.target.id})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.action;return"deleteUser"===e?r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"email",onChange:this.handleChange,placeholder:"Email Address",value:this.state.email}),r.a.createElement("button",{className:"btn pink lighten-1",id:"deleteUser",onClick:this.deleteUser},"Delete User Via Email"),r.a.createElement("button",{style:{marginLeft:"50px"},className:"btn pink lighten-1",id:"",onClick:this.activeAction},"Retrun")):"createAdmin"===e?r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"email",onChange:this.handleChange,placeholder:"Email Address",value:this.state.email}),r.a.createElement("button",{className:"btn pink lighten-1",id:"deleteUser",onClick:this.createAdmin},"Create Admin Via Email"),r.a.createElement("button",{style:{marginLeft:"50px"},className:"btn pink lighten-1",id:"",onClick:this.activeAction},"Retrun")):r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"black-text text-darken-3"},"Admin Authorities Options:"),r.a.createElement("button",{className:"btn pink lighten-1",id:"createAdmin",onClick:this.activeAction},"Add Admin Via Email"),r.a.createElement("button",{style:{marginLeft:"30px"},className:"btn pink lighten-1",id:"deleteUser",onClick:this.activeAction},"Delete User"),r.a.createElement("p",null,"please choose option"),r.a.createElement(d.b,{className:"btn blue lighten-1",to:"/admin"},"Return to Admin Menu"))}}]),t}(n.Component),we=a(55),ke=[{value:"tags",label:"Tags"},{value:"country",label:"Country"},{value:"city",label:"City"},{value:"name",label:"Name"}],xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userid:"",claim:"guest",searchVal:"",topDownValue:"tags",siteList:[],favoriteList:[]},a.onSearchButtonClicked=a.onSearchButtonClicked.bind(Object(m.a)(a)),a.updateSearchValue=a.updateSearchValue.bind(Object(m.a)(a)),a.updateTopDownhValue=a.updateTopDownhValue.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onSearchButtonClicked",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(this.state.searchVal),console.log(this.state.topDownValue),e.next=5,C(this.state.topDownValue,this.state.searchVal);case 5:a=e.sent,console.log(a),this.setState({siteList:a});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSearchValue",value:function(e){this.setState({searchVal:e.target.value})}},{key:"updateTopDownhValue",value:function(e){this.setState({topDownValue:e.value})}},{key:"renderButton",value:function(e){return"guest"!==this.state.claim&&!this.state.favoriteList.includes(e)}},{key:"addSiteToFavorites",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.state.favoriteList).push(t),ue(this.state.userid,a),this.setState({favoriteList:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.auth().onAuthStateChanged(function(){var e=Object(b.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return e.next=3,se(a.uid);case 3:return n=e.sent,e.t0=t,e.t1=a.uid,e.next=8,re(a);case 8:e.t2=e.sent,e.t3=n,e.t4={userid:e.t1,claim:e.t2,favoriteList:e.t3},e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.siteList;return r.a.createElement("div",null,r.a.createElement("form",{ref:this.form,id:"search-form"},r.a.createElement("div",{className:"search-field"},r.a.createElement("input",{ref:this.searchVal,onChange:this.updateSearchValue,type:"text",required:!0})),r.a.createElement(H.a,{ref:this.dropList,defaultValue:ke[0],onChange:this.updateTopDownhValue,options:ke}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onSearchButtonClicked},"Search")),r.a.createElement("p",{className:"error pink-text center-align"})),r.a.createElement("div",{className:"container"},0!=t.length&&r.a.createElement(we.a,{list:t,itemsPerPage:3,renderList:function(t){return t.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(K,{key:a,props:t}),e.renderButton(t.id)&&r.a.createElement("button",{onClick:function(){return e.addSiteToFavorites(t.id)}},"Add to favorites"))}))}})))}}]),t}(n.Component),Se={display:"block",color:"darkblue",fontWEIGHT:"bold"},je={backgroundColor:"lightBlue",color:"white",padding:"8px",border:"black",textAlight:"center",margin:"4px 2px",borderRadius:"12px"},Oe=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:Se}," About us "),r.a.createElement("div",{className:"elementor-widget-container"},r.a.createElement("p",null,r.a.createElement("strong",null,"SonShine: bringing light to the world in their memory"),", was founded by Bat-Galim and Ophir Shaer in memory of their son Gil-ad, one of the three boys kidnapped and murdered in the summer of 2014."),r.a.createElement("p",null,"\u201c",r.a.createElement("strong",null,"During the eighteen ",r.a.createElement("em",null,"(chai), "),"days of searching, worrying and not knowing what had happened to the kidnapped boys, we experienced unprecedented support from Jews all over the world. This was absolute proof of the strong feelings of mutual responsibility and the global connection felt by Jews throughout the world. Our goal is to encourage and leverage this connection and strength.")),r.a.createElement("p",null,r.a.createElement("strong",null,"The strength we discovered as individuals and as a nation during those difficult eighteen days, and the optimistic approach we chose after discovering the bitter fate of the boys, must inform our day to day lives and strengthen the spirit of every Jew throughout the world"),".\u201d \xa0Bat-Galim Shaer"),r.a.createElement("p",null,r.a.createElement("img",{className:"wp-image-1024 alignright",src:"http://sonshine.org.il/wp-content/uploads/2019/07/\u05ea\u05de\u05d5\u05e0\u05d4-\u05d6\u05d5\u05d2\u05d9\u05ea-\u05de\u05d9\u05db\u05dc-\u05d2\u05dc\u05e2\u05d3\u05d9.jpg",alt:"",width:"569",height:"379",srcSet:"http://sonshine.org.il/wp-content/uploads/2019/07/\u05ea\u05de\u05d5\u05e0\u05d4-\u05d6\u05d5\u05d2\u05d9\u05ea-\u05de\u05d9\u05db\u05dc-\u05d2\u05dc\u05e2\u05d3\u05d9.jpg 1600w, http://sonshine.org.il/wp-content/uploads/2019/07/\u05ea\u05de\u05d5\u05e0\u05d4-\u05d6\u05d5\u05d2\u05d9\u05ea-\u05de\u05d9\u05db\u05dc-\u05d2\u05dc\u05e2\u05d3\u05d9-300x200.jpg 300w, http://sonshine.org.il/wp-content/uploads/2019/07/\u05ea\u05de\u05d5\u05e0\u05d4-\u05d6\u05d5\u05d2\u05d9\u05ea-\u05de\u05d9\u05db\u05dc-\u05d2\u05dc\u05e2\u05d3\u05d9-768x512.jpg 768w, http://sonshine.org.il/wp-content/uploads/2019/07/\u05ea\u05de\u05d5\u05e0\u05d4-\u05d6\u05d5\u05d2\u05d9\u05ea-\u05de\u05d9\u05db\u05dc-\u05d2\u05dc\u05e2\u05d3\u05d9-1024x682.jpg 1024w",sizes:"(max-width: 569px) 100vw, 569px"})),r.a.createElement("p",null,"Bat-Galim (47) an educator and social activist and her husband, Ophir (48) a lawyer and tax specialist established the organization to enhance optimism and a sense of unity in Israel and throughout the world.\xa0 Its goal is to encourage a positive and constructive approach especially during times of crisis and challenge. They are the parents of six children and are among the founders and promoters of \u201cUnity Day\u201d and the \u201cJerusalem Prize for Jewish Unity."),r.a.createElement("p",null,"Bat-Galim has been its CEO since its beginning. She is an educator for over twenty years with a B.A. in History and Political Science and an M.A. in Educational Administration. She lectures in Israel and throughout the world to promote dialogue and projects to foster Jewish unity."),r.a.createElement("p",null,"The activities of the three families to promote unity and connections within Israeli society and throughout the world was formally recognized by the Government of Israel when the three mothers were honored by the privilege of lighting a torch at the National Independence Day Celebration in 2019."),r.a.createElement("p",null,"Sonshine continues to work on projects and new initiatives to foster optimism and unity among the Jewish people."),r.a.createElement("p",null,r.a.createElement("iframe",{src:"https://www.youtube.com/embed/SQuo9tAFJMA",width:"560",height:"315",frameBorder:"0",allowFullScreen:"allowfullscreen"}),r.a.createElement("iframe",{src:"https://www.youtube.com/embed/I6fOafWrTOI",width:"560",height:"315",frameBorder:"0",allowFullScreen:"allowfullscreen"}))),r.a.createElement("button",{style:je},r.a.createElement(d.b,{style:{color:"black"},to:"/menu"},"Retrun to main Menu")))}}]),t}(n.Component),Ce=function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(d.c,{to:"/LogOut"},"Log Out")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/searchSite"},"Search Site")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/favorites"},"Favorites")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/",className:"btn btn-floating pink lighten-1"},"NN"))))},Ne=function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(d.c,{to:"/LoginPage"},"Log In")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/searchSite"},"Search Site"))))},Le=function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(d.c,{to:"/admin"},"Admin Page"))))},Ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,isAdmin:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.auth().onAuthStateChanged(function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(a);case 2:"admin"===e.sent?t.setState({isAdmin:!0,isLoggedIn:!0}):a?t.setState({isLoggedIn:!0}):t.setState({isLoggedIn:!1,isAdmin:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoggedIn?r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{to:"/menu",className:"brand-logo"},"Jewish Trail"),r.a.createElement(Ce,null),this.state.isAdmin?r.a.createElement(Le,null):null)):r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{to:"/menu",className:"brand-logo"},"Jewish Trail"),r.a.createElement(Ne,null)))}}]),t}(n.Component),De=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){S.auth().signOut().then((function(){console.log("logged out")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome!"),r.a.createElement("button",{className:"btn white lighten-1 z-depth-0 "},r.a.createElement(d.b,{to:"LoginPage"},"Log In")),r.a.createElement("button",{className:"btn white lighten-1 z-depth-0 "},r.a.createElement(d.b,{to:"Menu"},"Enter as guest ")))}}]),t}(n.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){S.auth().signOut().then((function(){console.log("logged out")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Its Time To Say Goodbye"),r.a.createElement("button",{onClick:this.logout},r.a.createElement(d.b,{to:"/"},"Logout")))}}]),t}(n.Component),Ue=function(e){var t=e.props,a=e.deleteSite;return r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("div",{className:"site-name "},"name: ",t.name),r.a.createElement("div",{className:"site-city "},"city: ",t.city),r.a.createElement("div",{className:"site-country "},"Country: ",t.country),r.a.createElement("div",{className:"container"},t.tags.map((function(e,t){return r.a.createElement("span",{key:t}," ",e," ")}))),r.a.createElement("button",{onClick:function(){return a(t.id,t.uid)}},"Delete Site")))},Ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={favoritesArr:[],userid:""},a.deleteSite=function(e,t){var n=a.state.favoritesArr.filter((function(t){return t.id!==e}));a.setState({favoritesArr:n}),a.deleteFromFirebase(e,t)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],S.auth().onAuthStateChanged(function(){var e=Object(b.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(n.uid);case 2:t=e.sent,a.setState({favoritesArr:t,userid:n.uid});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteFromFirebase",value:function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.userid,r=[],this.state.favoritesArr.forEach((function(e){e.uid!==a&&r.push(e.uid)})),e.next=5,j.collection("accounts").doc(n).update({favorites:r}).catch((function(e){console.error("Error removing document: ",e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.state.favoritesArr.map((function(t,a){return r.a.createElement(Ue,{deleteSite:e.deleteSite,key:a,props:t})})))}}]),t}(n.Component),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={site_id:e.match.params.id,name:"",city:"",country:"",address:"",fullInfo:"",imageUrl:"",externalSourceUrl:"",latitude:1,longitude:1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(this.state.site_id);case 2:t=e.sent,console.log(t),this.setState({name:t.name,city:t.city,country:t.country,address:t.address,fullInfo:t.fullInfo,imageUrl:t.imageUrl,externalSourceUrl:t.externalSourceUrl,latitude:t.latitude,longitude:t.longitude});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[this.state.latitude,this.state.longitude];return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.name),r.a.createElement("h2",null,this.state.city),r.a.createElement("h3",null,this.state.country),r.a.createElement("h4",null,this.state.address),r.a.createElement("p",null,this.state.fullInfo),r.a.createElement("img",{src:this.state.imageUrl}),r.a.createElement("a",{href:this.state.externalSourceUrl,style:{marginDown:"100px"}},"Source"),r.a.createElement("div",{style:{height:"400px",width:"60%"}},r.a.createElement(v.a,{style:{height:"400px",width:"60%"},center:e,zoom:17},r.a.createElement(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.haveUsersLocation?r.a.createElement(y.a,{position:e,icon:U},r.a.createElement(w.a,null,"A pretty CSS3 popup. ",r.a.createElement("br",null)," Easily customizable.")):"",r.a.createElement(y.a,{position:e,icon:U}))))}}]),t}(n.Component),Fe=a(44),ze=[{value:"tags",label:"Tags"},{value:"country",label:"Country"},{value:"city",label:"City"},{value:"name",label:"Name"}],Be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={userid:"",claim:"guest",searchVal:"",topDownValue:"tags",siteListResult:[],siteList:[],name:"",description:""},a.onSearchButtonClicked=a.onSearchButtonClicked.bind(Object(m.a)(a)),a.updateSearchValue=a.updateSearchValue.bind(Object(m.a)(a)),a.updateTopDownhValue=a.updateTopDownhValue.bind(Object(m.a)(a)),a.createNewRoadSubmit=a.createNewRoadSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onSearchButtonClicked",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C(this.state.topDownValue,this.state.searchVal);case 3:a=e.sent,this.setState({siteListResult:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSearchValue",value:function(e){this.setState({searchVal:e.target.value})}},{key:"updateTopDownhValue",value:function(e){this.setState({topDownValue:e.value})}},{key:"renderButton",value:function(e){return!this.state.siteList.find((function(t){return t.siteID===e}))}},{key:"createNewRoadSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.siteList.length){e.next=3;break}return alert("no sites where selected"),e.abrupt("return");case 3:return t=this.state.name,a=this.state.description,n=[],this.state.siteList.forEach((function(e){return n.push(e.id)})),r={siteListID:n,roadName:t,roadDescription:a},e.next=10,pe(r);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addSiteToRoadList",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:a=e.sent,n=Object(Fe.a)({id:t},a),(r=this.state.siteList).push(n),this.setState({siteList:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSite",value:function(e){var t=Object(X.a)(this.state.siteList);t.splice(e,1),this.setState({siteList:t})}},{key:"handleChange",value:function(e){this.setState(Object(F.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"name"},"  Road  Name")),r.a.createElement("div",{className:"for-group"},r.a.createElement("label",null,"Road Description"),r.a.createElement("textarea",{value:this.description,onChange:this.handleChange,type:"description",className:"form-control",name:"description",placeholder:"Road Description"}))),r.a.createElement("button",{type:"submit",onClick:this.createNewRoadSubmit,className:"btn pink lighten-1"},"Submit"),r.a.createElement("ul",{className:"container"},this.state.siteList.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("li",null,r.a.createElement(K,{props:t})),r.a.createElement("button",{onClick:function(){return e.removeSite(a)}},"remove Site "))}))),r.a.createElement("form",{ref:this.form,id:"search-form"},r.a.createElement("div",{className:"search-field"},r.a.createElement("input",{ref:this.searchVal,onChange:this.updateSearchValue,type:"text",required:!0})),r.a.createElement(H.a,{ref:this.dropList,onChange:this.updateTopDownhValue,options:ze}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onSearchButtonClicked},"Search")),r.a.createElement("p",{className:"error pink-text center-align"})),r.a.createElement("div",{className:"container"},this.state.siteListResult.map((function(t,a){return e.renderButton(t.id)?r.a.createElement("div",{key:a},r.a.createElement(K,{props:t}),r.a.createElement("button",{onClick:function(){return e.addSiteToRoadList(t.id)}},"Add to Road")):r.a.createElement(K,{key:a,props:t})}))))}}]),t}(n.Component),Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(F.a)({},e.target.id,e.target.value))},a.addToken=function(e){a.setState({tags:[].concat(Object(X.a)(a.state.tags),[""])})},a.deleteTag=function(e,t){var n=Object(X.a)(a.state.tags);n.splice(t,1),a.setState({tags:n})},a.state={id:e.match.params.id,isLoaded:!1},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.id,e.next=3,he(t);case 3:a=e.sent,this.setState(Object(Fe.a)({},a,{id:t,isLoaded:!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangeTokens",value:function(e,t){var a=this.state.tags;a[t]=e.target.value,this.setState({tags:a})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:this.state.id,name:this.state.name,city:this.state.city,country:this.state.country,tags:this.state.tags,adress:this.state.adress,externalSourceUrl:this.state.externalSourceUrl,imageUrl:this.state.imageUrl,fullInfo:this.state.fullInfo,partialInfo:this.state.partialInfo,latitude:parseFloat(this.state.latitude),longitude:parseFloat(this.state.longitude)},e.next=4,ee(a);case 4:alert(a.name+" has updated!"),this.props.history.push("/adminPage");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isLoaded?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Update a Site"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},id:"create-site-form"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange,value:this.state.name,required:!0}),r.a.createElement("label",{htmlFor:"name"},"  Site Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"city",className:"materialize-textarea",onChange:this.handleChange,value:this.state.city,required:!0}),r.a.createElement("label",{htmlFor:"city"},"  City Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"country",className:"materialize-textarea",onChange:this.handleChange,value:this.state.country,required:!0}),r.a.createElement("label",{htmlFor:"country"},"  Country Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"adress",className:"materialize-textarea",onChange:this.handleChange,value:this.state.adress,required:!0}),r.a.createElement("label",{htmlFor:"adress"},"  Adress")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"externalSourceUrl",className:"materialize-textarea",onChange:this.handleChange,value:this.state.externalSourceUrl,required:!0}),r.a.createElement("label",{htmlFor:"externalSourceUrl"},"  External Source Url")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"imageUrl",className:"materialize-textarea",onChange:this.handleChange,value:this.state.imageUrl,required:!0}),r.a.createElement("label",{htmlFor:"imageUrl"},"  Image Url Link")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"fullInfo",className:"materialize-textarea",onChange:this.handleChange,value:this.state.fullInfo,required:!0}),r.a.createElement("label",{htmlFor:"fullInfo"}," Enter Descpirtion")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"partialInfo",className:"materialize-textarea",onChange:this.handleChange,value:this.state.partialInfo,required:!0}),r.a.createElement("label",{htmlFor:"partialInfo"},"  Enter marker Descpirtion")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"latitude",className:"materialize-textarea",onChange:this.handleChange,value:this.state.latitude,required:!0}),r.a.createElement("label",{htmlFor:"latitude"}," Enter latitude")),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"longitude",className:"materialize-textarea",onChange:this.handleChange,value:this.state.longitude,required:!0}),r.a.createElement("label",{htmlFor:"longitude"}," Enter longitude")),r.a.createElement("label",null,"Tags"),this.state.tags.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("textarea",{onChange:function(t){return e.handleChangeTokens(t,a)},value:t}),r.a.createElement("button",{type:"button",onClick:function(t){return e.deleteTag(a)}}," Delete Tag"))})),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",id:"token",onClick:this.addToken},"Add Tag"),r.a.createElement("hr",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{type:"submit",className:"btn pink lighten-1",color:"red"},"Update Site"),r.a.createElement("button",{type:"button",className:"btn pink lighten-1",style:{marginLeft:"30px"}},r.a.createElement(d.b,{className:"white-text",to:"/adminPage"},"Return to Admin Menu"))))):r.a.createElement("span",null,"Loading...")}}]),t}(n.Component),Pe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={user:null},e.authListener=e.authListener.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;S.auth().onAuthStateChanged((function(t){console.log(t),t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Ie,null),r.a.createElement("header",{className:"App-header"},r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"}),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.6.1/firebase-firestore.js"}),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js"}),r.a.createElement("script",{src:"https://cdn.firebase.com/libs/firebaseui/4.0.0/firebaseui.js"}),r.a.createElement("link",{rel:"manifest",href:"/manifest.json"}),r.a.createElement("link",{rel:"stylesheet",href:"styles.css"})),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:De}),r.a.createElement(p.b,{path:"/Menu",component:V}),r.a.createElement(p.b,{path:"/LoginPage",component:J}),r.a.createElement(p.b,{path:"/LogOut",component:Ae}),r.a.createElement(p.b,{path:"/SignUp",component:G}),r.a.createElement(p.b,{path:"/adminPage",component:T}),r.a.createElement(p.b,{path:"/createSite",component:ge}),r.a.createElement(p.b,{path:"/deleteSite",component:ve}),r.a.createElement(p.b,{exact:!0,path:"/updateSite",component:$}),r.a.createElement(p.b,{exact:!0,path:"/updateSite/:id",component:Me}),r.a.createElement(p.b,{path:"/auth",component:ye}),r.a.createElement(p.b,{path:"/searchSite",component:xe}),r.a.createElement(p.b,{path:"/favorites",component:Ve}),r.a.createElement(p.b,{path:"/about",component:Oe}),r.a.createElement(p.b,{exact:!0,path:"/site/:id",component:Te}),r.a.createElement(p.b,{exact:!0,path:"/RoadForm",component:Be}),r.a.createElement(p.b,{exact:!0,path:"/admin",component:Ee}))))}}]),t}(n.Component),Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(81);s.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Re?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):qe(e)}))}}()}},[[59,1,2]]]);
//# sourceMappingURL=main.5804c3a6.chunk.js.map