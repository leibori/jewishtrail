{"version":3,"sources":["components/firebase/firebase.js","components/search/SearchUtils.js","components/map/MapUtilities.js","components/main-menu/Menu.js","components/admin/AdminMenu.js","components/firebase/FirebaseLoginUtils.js","components/login/LoginPage.js","components/login/SignUp.js","components/sites/siteComponent.js","components/admin/ChangeSite.js","components/firebase/FirebaseUtilities.js","components/admin/CreateSite.js","components/admin/DeleteSite.js","components/admin/AdminPage.js","components/admin/AuthMenu.js","components/search/SearchMenu.js","components/main-menu/about.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/AdminLinks.js","components/layout/Navbar.js","components/login/Home.js","components/login/LogOut.js","components/favorites/siteHandle.js","components/favorites/Favorites.js","components/sites/SitePage.js","components/road/RoadForm.js","components/sites/UpdateForm.js","App.js","registerServiceWorker.js","serviceWorker.js","index.js"],"names":["myFirebase","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","myDatabase","firestore","myFunctions","functions","findSites","dropList","searchVal","a","siteList","tag_list","collection","get","snapshot","sites","forEach","doc","docTags","data","tags","every","val","includes","push","addToList","where","docs","console","log","name","city","country","id","findSitesByCountryForMarker","address","partialInfo","latitude","longitude","myIcon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","Menu","state","location","lat","lng","zoom","haveUsersLocation","markers","navigator","geolocation","getCurrentPosition","position","fetch","then","res","json","setState","country_name","coords","this","Map","style","height","width","left","top","transform","center","TileLayer","attribution","url","Marker","Popup","map","site","i","key","to","Component","AdminMenu","action","activeAction","e","target","className","marginLeft","signInWithGoogle","provider","firebase","GoogleAuthProvider","setPersistence","Auth","Persistence","SESSION","signInWithPopup","user","auth","currentUser","isUserExists","uid","displayName","CreateNewAccount","exists","email","password","user_name","preventDefault","createUserWithEmailAndPassword","u","catch","error","UserName","set","favorites","LoginPage","googleLogin","userid","isLoggedIn","userInfo","handleChange","bind","onAuthStateChanged","value","onChange","type","aria-describedby","placeholder","onClick","signInWithEmailAndPassword","login","SignUp","isLoggenIn","signup","SiteComponent","props","info_url","tag","options","label","ChangeSite","topDownValue","chosenSite","changingFlag","onSearchButtonClicked","updateSearchValue","updateTopDownhValue","result","length","alert","ref","form","required","defaultValue","createNewSite","add","adress","externalSourceUrl","imageUrl","fullInfo","UpdateSite","update","DeleteSiteFromDB","delete","getUserClaims","userClaims","getIdTokenResult","tokenResult","admin","claims","getFavoritesIDs","getFavorites","resultOfSite","siteFromFireStore","getData","updateUserFavorites","newFavorites","getSiteByID","siteid","createNewRoad","siteListID","roadName","roadDescription","description","CreateSite","addToken","deleteTag","index","splice","handleSubmit","Name","parseFloat","history","onSubmit","htmlFor","token","handleChangeTokens","color","DeleteSite","AdminPage","deleteUser","httpsCallable","deleteUserByEmails","message","createAdmin","addAdminRole","SearchMenu","claim","favoriteList","sid","list","itemsPerPage","renderList","renderButton","addSiteToFavorites","h1Style","display","fontWEIGHT","buttonStyle","backgroundColor","padding","border","textAlight","margin","borderRadius","About","src","alt","srcSet","sizes","frameBorder","allowFullScreen","SignedInLinks","SignedOutLinks","AdminLinks","Navbar","isAdmin","Home","signOut","logout","siteHandle","deleteSite","Favorites","favoritesArr","filter","deleteFromFirebase","uidList","SitePage","site_id","match","params","all_site_props","href","marginDown","RoadForm","siteListResult","createNewRoadSubmit","find","s","siteID","road","siteData","siteObject","removeSite","addSiteToRoadList","UpdateForm","isLoaded","App","authListener","localStorage","setItem","removeItem","rel","path","exact","component","LogOut","AuthMenu","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","document","getElementById","ready","unregister","URL","process","origin","addEventListener","response","status","headers","indexOf","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5804c3a6.chunk.js","sourcesContent":["import  app from 'firebase/app';\r\nimport \"firebase/auth\"\r\nimport \"firebase/firebase-firestore\"\r\nimport \"firebase/functions\"\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyDxnwrW4yBF4d0QDXoFSCF9FBNDauq68gE\",\r\n    authDomain: \"jewish-trail.firebaseapp.com\",\r\n    databaseURL: \"https://jewish-trail.firebaseio.com\",\r\n    projectId: \"jewish-trail\",\r\n    storageBucket: \"jewish-trail.appspot.com\",\r\n    messagingSenderId: \"1060927552672\",\r\n    appId: \"1:1060927552672:web:7288a483d83a16b7da9dc5\",\r\n    measurementId: \"G-D4K9DSRZ0K\"\r\n};\r\n\r\nexport const myFirebase = app.initializeApp(config);\r\nexport const myDatabase = myFirebase.firestore();\r\nexport const myFunctions = myFirebase.functions()\r\n\r\n\r\n\r\n// export default class Firebase{\r\n\r\n//     // static sharedInstance = Firebase.sharedInstance == null ? new Firebase() : Firebase.sharedInstance\r\n\r\n//     static instance = null;\r\n//     static createInstance() {\r\n//         var object = new Firebase();\r\n//         return object;\r\n//     }\r\n//     static getInstance () {\r\n//         if (!Firebase.instance) {\r\n//             Firebase.instance = Firebase.createInstance();\r\n//         }\r\n//         return Firebase.instance;\r\n//     }\r\n\r\n//     constructor(){\r\n//         app.initializeApp(config)\r\n//         this.auth = app.auth()\r\n//         this.db = app.firestore()\r\n//         this.user = null\r\n//         this.startStateListiner()\r\n//         console.log(\"in constructor\")\r\n//         console.log(\"val = \" + this.user)    \r\n//     }\r\n\r\n//     // declare functions here \r\n//     loginWithGoogle() {\r\n//         const provider = this.auth.GoogleAuthProvider();\r\n//         return this.auth().signInWithPopup(provider).then(result =>{\r\n//             const user = result.user;\r\n//             console.log(user.email);\r\n//         })\r\n//     }\r\n\r\n//     async register(email,password){\r\n//         await this.auth.createUserWithEmailAndPassword(email,password)\r\n//         return this.auth.currentUser\r\n//     }\r\n//     login(email,password){\r\n//         this.auth.signInWithEmailAndPassword(email,password)\r\n//         this.user = this.auth.currentUser.uid\r\n//     }\r\n\r\n//     async getUserClaims(){\r\n//         return this.user\r\n//     }\r\n\r\n//     // async statusListener(){\r\n//     //     this.auth.onAuthStateChanged(user => {\r\n//     //         user.getIdTokenResult().then(idTokenResult => {\r\n//     //             user.admin = idTokenResult.claims.admin;\r\n//     //             console.log(\"Is the user and admin?\" + user.admin);\r\n//     //         });\r\n//     //     })\r\n//     // }\r\n\r\n//     startStateListiner() {\r\n//         this.auth.onAuthStateChanged(user => {\r\n//             if(user) {\r\n//                 this.user = user.uid\r\n//             } else {\r\n//                 this.user = \"offline\"\r\n//             }\r\n//             // user.getIdTokenResult().then(idTokenResult => {\r\n//             //     user.admin = idTokenResult.claims.admin;\r\n//             //     console.log(\"Is the user and admin?\" + user.admin);\r\n//             // });\r\n//         })\r\n//     }\r\n// }\r\n\r\n// // export default new Firebase()","import {myDatabase} from '../firebase/firebase'\r\n\r\nexport async function findSites(dropList, searchVal) {\r\n\r\n    var siteList = []\r\n\r\n    if (dropList === \"tags\") {\r\n        var tag_list = [searchVal]\r\n\r\n        const snapshot = await myDatabase.collection('sites').get()\r\n        let sites = []\r\n        snapshot.forEach(doc => {\r\n            var docTags = doc.data().tags;\r\n            const isSubSet = tag_list.every(val => docTags.includes(val));\r\n            if(isSubSet){\r\n                sites.push(doc)\r\n            }\r\n        });\r\n        sites.forEach(doc => {\r\n            addToList(siteList, doc)\r\n        })\r\n        return siteList;\r\n    } else {\r\n        const snapshot = await myDatabase.collection('sites').where(dropList, '==', searchVal).get()\r\n        snapshot.docs.forEach(doc => {\r\n            addToList(siteList, doc);\r\n        })\r\n        console.log(siteList)\r\n        return siteList;\r\n        \r\n    }\r\n}\r\n\r\nfunction addToList(siteList, doc){\r\n    \r\n    siteList.push({\r\n        name: doc.data().name,\r\n        city: doc.data().city,\r\n        country: doc.data().country,\r\n        tags: doc.data().tags,\r\n        id: doc.id\r\n    })\r\n}\r\n\r\nexport async function findSitesByCountryForMarker(country) {\r\n    var siteList = []\r\n    const snapshot = await myDatabase.collection('sites').where(\"country\", '==', country).get()\r\n    snapshot.docs.forEach(doc => {\r\n        var data = doc.data()\r\n        siteList.push({ id: doc.id,\r\n                        name: data.name,\r\n                        address: data.address,\r\n                        partialInfo: data.partialInfo,\r\n                        latitude: data.latitude,\r\n                        longitude: data.longitude\r\n                        })\r\n    })\r\n    return siteList\r\n}\r\n","import L from 'leaflet';\n\nexport var myIcon = L.icon({\n    iconUrl: 'http://www.clker.com/cliparts/k/a/2/B/c/u/map-marker-red-th.png',\n    iconSize: [24.8, 39.6],\n    iconAnchor: [12.4, 39.6],\n    popupAnchor: [0, -30]\n});\n","import React, { Component } from 'react'\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport { Link } from 'react-router-dom'\r\nimport { findSitesByCountryForMarker } from '../search/SearchUtils'\r\nimport { myIcon, getCoordinatesByAddress } from '../map/MapUtilities'\r\n\r\nclass Menu extends Component {\r\n\r\n    state = {\r\n        location: {\r\n            lat: 41.294856,\r\n            lng: -4.055685,\r\n        },\r\n        zoom: 5,\r\n        haveUsersLocation: false,\r\n        markers: []\r\n    }\r\n\r\n    async componentWillMount(){\r\n        // Set center of the map to be the user's current location.\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            fetch('https://ipapi.co/json')\r\n            .then(res => res.json())\r\n            .then(location => {\r\n                this.setState({\r\n                    country: location.country_name\r\n                })\r\n            })\r\n            this.setState({\r\n                location: {\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude},\r\n                    haveUsersLocation: true,\r\n                    zoom: 13\r\n            })\r\n        }, () => {\r\n            console.log('access denied')\r\n            fetch('https://ipapi.co/json')\r\n            .then(res => res.json())\r\n            .then(location => {\r\n                console.log(location)\r\n                this.setState({\r\n                    location: {\r\n                        lat: location.latitude,\r\n                        lng: location.longitude},\r\n                    country: location.country_name,\r\n                    haveUsersLocation: true,\r\n                    zoom: 13})\r\n            })\r\n        })\r\n         \r\n        // var markers = await findSitesByCountryForMarker(this.state.country)\r\n        var markers = await findSitesByCountryForMarker(\"Spain\")\r\n        console.log(markers)\r\n        this.setState({ markers: markers })\r\n    }\r\n\r\n    render() {\r\n        const position = [this.state.location.lat, this.state.location.lng]\r\n        return(\r\n                <div>\r\n                    <p>Welcome to the \"Jewish Trail\" project.</p>\r\n                    <p>Our goal is to strenghen the bond between the jewish people around the world by improving access to our shared history and heritage.</p>\r\n                    <p>Feel free to go on a journey and rediscover the marks the we left on the world and in the history books.</p>\r\n                    <Map style={{height: '400px', width: '60%', position: \"absolute\", left: '50%', top: '50%', transform: 'translate(-50%, -10%)'}}\r\n                        center={position} zoom={this.state.zoom} >\r\n                        <TileLayer\r\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                        />\r\n                        { \r\n                            this.state.haveUsersLocation ? \r\n                            <Marker position={position} icon={myIcon}>\r\n                                <Popup>\r\n                                    A pretty CSS3 popup. <br /> Easily customizable.\r\n                                </Popup>\r\n                            </Marker> : ''\r\n                        }\r\n                        {\r\n                            this.state.markers.map((site, i) => (\r\n                                <Marker key={i} position={[site.latitude, site.longitude]} icon={myIcon}>\r\n                                    <Popup>\r\n                                        {site.address}<br/>\r\n                                        {site.partialInfo}<br/>\r\n                                        <Link to={'/site/'+site.id}>More info</Link>\r\n                                    </Popup>\r\n                                </Marker>\r\n                            )\r\n                        )}\r\n                    </Map>\r\n                    {/* <script style={{height: '600px', width: '60%'}} type='text/javascript' src='test.js'></script> */}\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Menu","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nclass AdminMenu extends Component {\n  state = {\n    action: ''\n  }\n  activeAction = (e) => {\n    this.setState({\n      action: e.target.id\n      \n    })\n  }\n  //<button id='create' onClick={this.activeAction}>Create new Site</button>\n  //<button id='delete' onClick={this.activeAction}>Delete Site</button>\n  //<button id='change' onClick={this.activeAction}>Change Site</button>\n\n  render() {\n    return (\n    <div className=\"container\">\n      <h5 className=\"black-text text-darken-3\" style={{marginLeft:\"-210px\"}}>Welcome to Site Management. choose an Option:</h5>\n      <button className=\"btn pink lighten-1\" id='create'><Link to=\"/createSite\" className=\"white-text\">Create new Site</Link></button>\n      <button className=\"btn pink lighten-1\" style={{marginLeft:\"30px\"}} id='delete'><Link className=\"white-text\" to=\"/deleteSite\">Delete Site</Link></button>\n      <button className=\"btn pink lighten-1\" style={{marginLeft:\"30px\"}} id='change'><Link className=\"white-text\" to=\"/updateSite\">Update Site</Link></button>\n    </div>\n    )    \n  }\n}\n\nexport default AdminMenu","import * as firebase from 'firebase'\nimport { myFirebase, myDatabase } from './firebase'\n\nexport async function signInWithGoogle() {\n  var provider = new firebase.auth.GoogleAuthProvider();\n  await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION)\n  await firebase.auth().signInWithPopup(provider)\n  // add createNewAccout\n  var user = myFirebase.auth().currentUser;\n  if(await isUserExists(user.uid)){\n    return user.uid\n  }\n  var displayName = user.displayName;\n  await CreateNewAccount(user.uid, displayName);\n  return user.uid\n}\n\nasync function isUserExists(uid){\n  const user = await myDatabase.collection('accounts').doc(uid).get()\n  if(user.exists){\n    return true;\n  }\n  return false;\n}\n\nexport function login(e, email, password) {\n    e.preventDefault();\n    myFirebase.auth().signInWithEmailAndPassword(email, password).then((u)=>{\n      console.log(\"logged in\" + myFirebase.auth().currentUser)\n    }).catch((error) => {\n        console.log(error);\n      });\n}\n\nexport async function signup(e, email, password, user_name){\n  e.preventDefault();\n  myFirebase.auth().createUserWithEmailAndPassword(email, password).then((u)=>{\n    CreateNewAccount(u.user.uid, user_name)\n  }).then((u)=>{console.log(u)})\n  .catch((error) => {\n      console.log(error);\n  })\n}\n\nasync function CreateNewAccount(uid, UserName){\n  console.log(uid)\n  await myDatabase.collection(\"accounts\").doc(uid).set({\n      user_name: UserName,\n      favorites: []\n  })\n}","import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport {myFirebase} from '../firebase/firebase';\nimport { signInWithGoogle, login } from '../firebase/FirebaseLoginUtils'\n\n\nclass LoginPage extends Component {\n  constructor() {\n    super();\n    this.handleChange = this.handleChange.bind(this);\n //   this.signup = this.signup.bind(this);\n    this.state = {\n      userInfo: null,\n      email: '',\n      password: '',\n      isLoggedIn: false\n      \n    };\n  }\n\n  googleLogin = async () => {\n    var userid = await signInWithGoogle()\n    console.log(userid)\n    this.setState({\n      isLoggedIn: true,\n      userInfo: userid\n    })\n  }\n\n  async componentDidMount(){\n    myFirebase.auth().onAuthStateChanged(async (user) => {\n      if(user){\n        this.setState({isLoggedIn: true})\n      }else{\n        this.setState({isLoggedIn: false})\n      }  \n     })\n  }\n  \n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  render() {\n    if(this.state.isLoggedIn){\n      return <Redirect to = \"/Menu\"></Redirect>\n    }\n        return (\n      <div className=\"col-md-6\">\n        <form>\n          <div className=\"form-group\">\n            <label >Email address</label>\n            <input  value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n          </div>\n          <div className=\"form-group\">\n            <label >Password</label>\n            <input  value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" />\n          </div>\n          <button type=\"submit\" onClick={(e) => login(e, this.state.email, this.state.password)} className=\"btn black lighten-2 z-depth-0\">Login</button>\n          <small id=\"signitup\" className=\"form-text text-muted\">Not a member yet? sign up now</small>\n          <button  className=\"btn white lighten-1 z-depth-0\"><Link to=\"/SignUp\">Signup</Link></button>\n          <button onClick={async () => this.googleLogin()} className=\"googleBtn\" type=\"button\">Login With Google</button>\n        <button  className=\"btn white lighten-1 z-depth-0 \"><Link to=\"/Menu\">Enter as guest</Link></button>\n        </form>\n      </div>\n    );\n  }\n}\nexport default LoginPage;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport  {myFirebase} from '../firebase/firebase';\r\nimport {signup} from '../firebase/FirebaseLoginUtils'\r\n\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.state = {\r\n      isLoggenIn: false,\r\n      email: '',\r\n      password: '',\r\n      user_name:'',\r\n    };\r\n  }\r\n\r\n  async componentDidMount(){\r\n    myFirebase.auth().onAuthStateChanged(async (user) => {\r\n      if(user){\r\n        this.setState({isLoggedIn: true})\r\n      }else{\r\n        this.setState({isLoggedIn: false})\r\n      }\r\n      \r\n   })\r\n }\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    if(this.state.isLoggedIn){\r\n      return <Redirect to = \"/Menu\"></Redirect>\r\n    }\r\n    return (\r\n      <div className=\"col-md\">\r\n        <form>\r\n          <div className=\"for-group\">\r\n            <label >Email address</label>\r\n            <input  value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n          </div>\r\n          <div className=\"for-group\">\r\n            <label >Password</label>\r\n            <input  value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" />\r\n          </div>\r\n          <div className=\"for-group\">\r\n            <label >user_name</label>\r\n            <input  value={this.state.user_name} onChange={this.handleChange} type=\"text\" name=\"user_name\" className=\"form-control\" id=\"exampleFirstName\" placeholder=\"user Name\" />\r\n          </div>\r\n          <button onClick={(e) => signup(e, this.state.email, this.state.password, this.state.user_name)} className=\"btn btn-success\">Signup</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default SignUp;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst SiteComponent = ({props}) => {\r\n  var info_url = '/site/'+props.id\r\n  return (\r\n    <div className=\"card z-depth-0 project-summary\">\r\n    <div className=\"card-content grey-text text-darken-3\">\r\n      <div className=\"site-name \">Name: {props.name}</div>\r\n      <div className=\"site-city \">City: {props.city}</div>\r\n      <div className=\"site-country \">Country: {props.country}</div>\r\n      {\r\n        <div className=\"container\">\r\n            {props.tags.map((tag, i) => {\r\n               return (<span key = {i}> {tag} </span>) \r\n            })}\r\n        </div>  \r\n      }\r\n      <Link to={info_url}>More info</Link>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default SiteComponent","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Select from 'react-select'\nimport {findSites} from '../search/SearchUtils'\nimport SiteComponent from '../sites/siteComponent'\n// import UpdateForm from '../sites/UpdateForm'\n// import {getSiteByID} from '../firebase/FirebaseUtilities'\n\nconst options = [\n  { value: 'tags', label: 'Tags'},\n  { value: 'country', label: 'Country'},\n  { value: 'city', label: 'City'},\n  { value: 'name', label: 'Name'}\n]\n\nclass ChangeSite extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        searchVal: '',\n        topDownValue: 'tags',\n        siteList: [],\n        chosenSite: null,\n        changingFlag: false\n    }\n\n    this.onSearchButtonClicked = this.onSearchButtonClicked.bind(this);\n    this.updateSearchValue = this.updateSearchValue.bind(this);\n    this.updateTopDownhValue = this.updateTopDownhValue.bind(this);\n};\n\n// async UpdateSite(e,index){\n//   e.preventDefault();\n//   const siteID = this.state.siteList[index].id\n//   //let site = await getSiteByID(siteID);\n//   //site.id = siteID;\n//   //setState({changingFlag: true, chosenSite:site})\n//   this.setState({changingFlag: true, chosenSite:siteID})\n// }\n\n\nasync onSearchButtonClicked(e) {\n    e.preventDefault();\n    const result = await findSites(this.state.topDownValue, this.state.searchVal)\n    if(!result.length){\n      alert(\"no Result\")\n    }\n    this.setState({siteList: result})\n}\n\nupdateSearchValue(e) {\n  this.setState({searchVal: e.target.value})\n}\n\nupdateTopDownhValue(e) {\n  this.setState({topDownValue: e.value})\n}\n\n\nrender() {\n  // if(this.state.changingFlag){\n  //   return <UpdateForm props={this.state.chosenSite}/>\n  // }\n    return (\n        <div>\n            <h5 className=\"grey-text text-darken-3\">Search Site to Update</h5>\n            <form ref={this.form} id=\"search-form\">\n                <div className=\"search-field\">\n                    <textarea ref={this.searchVal} onChange={this.updateSearchValue} type=\"text\" required />\n                </div>\n                <Select ref={this.dropList} defaultValue={options[0]} onChange={this.updateTopDownhValue} options = {options} />\n                <button onClick={this.onSearchButtonClicked}>Search</button>\n                <p className=\"error pink-text center-align\"></p>\n            </form>\n            \n            <ul className=\"container\" bind={this.state.siteList}>\n                {this.state.siteList.map((site, i) => (\n                  <li key = {i}>\n                  <SiteComponent props={site}/>\n                  <button><Link to={'/updateSite/'+site.id}>update Site</Link></button>\n                  </li>\n                ))\n                }\n            </ul>\n            <button className=\"btn pink lighten-1\" type=\"button\"><Link className=\"white-text\" to=\"/adminPage\">Return to Admin Menu</Link></button>\n        </div>\n    )    \n  }\n}\n\nexport default ChangeSite","import { myDatabase } from './firebase'\n\n// export function login(email,password){\n//     myFirebase.auth().signInWithEmailAndPassword(email,password)\n// }\n\n\nexport async function createNewSite(site){\n    await myDatabase.collection('sites').add({\n      name: site.name,\n      city: site.city,\n      country: site.country,\n      tags: site.tags,\n      adress: site.adress,\n      externalSourceUrl: site.externalSourceUrl,\n      imageUrl: site.imageUrl,\n      fullInfo: site.fullInfo,\n      partialInfo: site.partialInfo,\n      latitude: site.latitude,\n      longitude: site.longitude\n    })\n}\n\nexport async function UpdateSite(site){\n    await myDatabase.collection('sites').doc(site.id).update({\n      name: site.name,\n      city: site.city,\n      country: site.country,\n      tags: site.tags,\n      adress: site.adress,\n      externalSourceUrl: site.externalSourceUrl,\n      imageUrl: site.imageUrl,\n      fullInfo: site.fullInfo,\n      partialInfo: site.partialInfo,\n      latitude: site.latitude,\n      longitude: site.longitude\n    })\n}\n\n\nexport async function DeleteSiteFromDB(site){\n    await myDatabase.collection('sites').doc(site.id).delete();\n}\n\n\nexport async function getUserClaims(user){\n    if(!user){\n        return \"guest\"\n    }\n    let userClaims = \"registered\"\n    var tokenResult = await user.getIdTokenResult()\n    user.admin = tokenResult.claims.admin;\n    if (user.admin) {\n        userClaims = \"admin\"\n    } else {\n        console.log(\"is registered\")\n        userClaims = \"registered\"\n    }\n    return userClaims;\n}\n\nexport async function getFavoritesIDs(userid) {\n    const user = await myDatabase.collection('accounts').doc(userid).get()\n    return user.data().favorites\n}\n\nexport async function getFavorites(userid){\n    var resultOfSite = []\n    var siteList = await getFavoritesIDs(userid)\n    var id = 0\n    // console.log(siteList);\n    for (const site of siteList){\n        const siteFromFireStore = await myDatabase.collection('sites').doc(site).get();\n        var getData = siteFromFireStore.data();\n        // console.log(getData);\n        resultOfSite.push({\n            tags: getData.tags,\n            name: getData.name,\n            city: getData.city,\n            country: getData.country,\n            id: id,\n            uid: site\n        })\n        id +=1;\n    }\n    return resultOfSite;\n}\n\nexport async function updateUserFavorites(userid, newFavorites) {\n    await myDatabase.collection('accounts').doc(userid).update({\n        'favorites': newFavorites\n        })\n        .catch(function(error) {\n          console.error(\"Error removing document: \", error);\n        });\n}\n\nexport async function getSiteByID(siteid) {\n    return  (await myDatabase.collection('sites').doc(siteid).get()).data()\n}\n\nexport async function createNewRoad( {siteListID,roadName,roadDescription} ){\n    await myDatabase.collection('roads').add({\n        roadName: roadName,\n        description: roadDescription,\n        siteList: siteListID,\n    })\n}","import React, { Component } from 'react'\nimport {createNewSite} from '../firebase/FirebaseUtilities'\nimport { Link } from 'react-router-dom'\n\nclass CreateSite extends Component {\n  constructor(props){\n    super(props)\n    console.log(props)\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      tags:[],\n      Name: '',\n      city: '',\n      country: '',\n      adress: '',\n      externalSourceUrl: '',\n      imageUrl: '',\n      fullInfo: '',\n      partialInfo: '',\n      latitude: null,\n      longitude: null\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  handleChangeTokens(e,index){\n    var tags = this.state.tags\n    tags[index] = e.target.value;\n    this.setState({\n      tags: this.state.tags\n    })\n  }\n  \n  addToken = (e) => {\n    this.setState({\n      tags:[...this.state.tags,\"\"]\n    })\n  }\n\n  async handleSubmit(e){\n    e.preventDefault();\n    var site = {\n      name: this.state.name,\n      city: this.state.city,\n      country: this.state.country,\n      tags: this.state.tags,\n      adress: this.state.adress,\n      externalSourceUrl: this.state.externalSourceUrl,\n      imageUrl: this.state.imageUrl,\n      fullInfo: this.state.fullInfo,\n      partialInfo: this.state.partialInfo,\n      latitude: parseFloat(this.state.latitude),\n      longitude: parseFloat(this.state.longitude)\n    }\n    await createNewSite(site)\n    alert(\"created a new site\");\n    this.props.history.push('/adminPage');\n  }\n\n  deleteTag = (e,index) =>{\n    var tags = [...this.state.tags]\n    tags.splice(index,1)\n    this.setState({tags: tags});\n  }\n\n\n  render() {\n    return (\n      <div className=\"container\">\n          <h5 className=\"grey-text text-darken-3\">Create a New Site</h5>\n          <form onSubmit={(e)=> this.handleSubmit(e)} id=\"create-site-form\">\n          <div className=\"input-field\">\n            <input type=\"text\" id='name' onChange={this.handleChange} required/>\n            <label htmlFor=\"name\"> Site Name</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"city\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"city\"> City Name</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"country\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"country\"> Country Name</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"adress\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"adress\">  Address</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"externalSourceUrl\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"externalSourceUrl\" > External Url Link</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"imageUrl\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"imageUrl\"> Image Url Link</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"fullInfo\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"fullInfo\"> Enter Description</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"partialInfo\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"partialInfo\"> Enter Marker Description</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"latitude\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"latitude\"> Enter latitude</label>\n          </div>\n          <div className=\"input-field\">\n            <textarea id=\"longitude\" className=\"materialize-textarea\" onChange={this.handleChange} required></textarea>\n            <label htmlFor=\"longitude\"> Enter longitude</label>\n          </div>\n          <label>Tags</label>\n          {\n            this.state.tags.map((token,index) => {\n              return (\n                <div key={index}>\n                  <input  onChange={(e) => this.handleChangeTokens(e,index)} value={token}  /> \n                  <button type=\"button\" onClick={(e) => this.deleteTag(index)}> Delete Tag</button>\n                </div>\n              )\n            })\n          }\n          <hr/>\n          <button type=\"button\" id=\"token\" onClick={this.addToken}>Add Tag</button>\n          <hr/>\n          <div className=\"input-field\">\n          <button type=\"submit\" className=\"btn pink lighten-1\" color=\"red\">Create Site</button>\n            <button style={{marginLeft:\"50px\"}} type=\"button\" className=\"btn pink lighten-1\"><Link className=\"white-text\" to=\"/adminPage\">Return to Admin Menu</Link></button>\n          </div>\n          </form>\n      </div>\n    )\n  }\n}\n\nexport default CreateSite\n","import React, { Component } from 'react'\nimport Select from 'react-select'\nimport {findSites} from '../search/SearchUtils'\nimport SiteComponent from '../sites/siteComponent'\nimport {DeleteSiteFromDB} from '../firebase/FirebaseUtilities'\nimport { Link } from 'react-router-dom'\n\nconst options = [\n  { value: 'tags', label: 'Tags'},\n  { value: 'country', label: 'Country'},\n  { value: 'city', label: 'City'},\n  { value: 'name', label: 'Name'}\n]\n\nclass DeleteSite extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        searchVal: '',\n        topDownValue: 'tags',\n        siteList: []\n    }\n\n    this.onSearchButtonClicked = this.onSearchButtonClicked.bind(this);\n    this.updateSearchValue = this.updateSearchValue.bind(this);\n    this.updateTopDownhValue = this.updateTopDownhValue.bind(this);\n};\n\nasync DeleteSite(e,index){\n  e.preventDefault();\n  const site = this.state.siteList[index]\n  await DeleteSiteFromDB(site)\n  console.log(\"site\" + site.name + \"had deleted\")\n  \n  var siteList = [...this.state.siteList]\n  siteList.splice(index,1)\n  this.setState({siteList: siteList});\n}\n\n\nasync onSearchButtonClicked(e) {\n    e.preventDefault();\n\n    const result = await findSites(this.state.topDownValue, this.state.searchVal)\n    console.log(result)\n    this.setState({siteList: result})\n}\n\nupdateSearchValue(e) {\n  this.setState({searchVal: e.target.value})\n}\n\nupdateTopDownhValue(e) {\n  this.setState({topDownValue: e.value})\n}\n\nrender() {\n    return (\n        <div>\n            <h5 className=\"grey-text text-darken-3\">Search Site to Delete</h5>\n            <form ref={this.form} id=\"search-form\">\n                <div className=\"search-field\">\n                    <textarea ref={this.searchVal} onChange={this.updateSearchValue} type=\"text\" required />\n                </div>\n                <Select ref={this.dropList} defaultValue={options[0]} onChange={this.updateTopDownhValue} options = {options} />\n                <button onClick={this.onSearchButtonClicked}>Search</button>\n                <p className=\"error pink-text center-align\"></p>\n            </form>\n            \n            <ul className=\"container\" bind={this.state.siteList}>\n                {this.state.siteList.map((site, i) => (\n                  <li key = {i}>\n                  <SiteComponent props={site}/>\n                  <button onClick={(e) => this.DeleteSite(e,i)}>Delete Site</button>\n                  </li>\n                ))\n                }\n            </ul>\n            <button className=\"btn pink lighten-1\"><Link className=\"white-text\" to=\"/adminPage\">Return to Admin Menu</Link></button>\n        </div>\n    )    \n  }\n}\n\nexport default DeleteSite","import React, { Component } from 'react'\nimport { Link, Redirect} from 'react-router-dom'\n\n\nclass AdminPage extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n          <p> Welcome to Admin Menu, Please select a Option:</p>\n          <button className=\"btn pink lighten-1\"><Link className=\"white-text\" to=\"/adminPage\">Site Management</Link></button>\n          <button style={{marginLeft:\"30px\"}} className=\"btn pink lighten-1\"><Link className=\"white-text\" to=\"/auth\">Users Management</Link></button>\n      </div>\n    )\n  }\n}\n\nexport default AdminPage","import React, { Component } from 'react'\nimport {myFunctions} from '../firebase/firebase'\nimport { Link } from 'react-router-dom'\n\nclass AdminMenu extends Component {\n  state = {\n    action: '',\n    email: \"\"\n  }\n  \n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  deleteUser = (e) => {\n      const email = this.state.email\n      console.log(email)\n      this.setState({email:\"\"})\n      const deleteUserByEmails = myFunctions.httpsCallable('deleteUserByEmails');\n      deleteUserByEmails({email: email}).then(result => {\n        alert(result.data.message)    \n        this.props.history.push(\"/admin\")    \n      })\n  }\n\n  createAdmin = (e) => {\n    const email = this.state.email\n    console.log(email)\n    this.setState({email:\"\"})\n    const addAdminRole = myFunctions.httpsCallable('addAdminRole');\n    addAdminRole({email: email}).then(result => {\n      console.log(result)\n        alert(result.data.message)    \n        this.props.history.push(\"/admin\")\n    })\n  }\n\n  activeAction = (e) => {\n    this.setState({\n      action: e.target.id\n      \n    })\n  }\n  \n  render() {\n    const action = this.state.action;\n    if(action === \"deleteUser\"){\n         return(\n            <div className=\"input-field\">\n            <input id=\"email\" onChange={this.handleChange}placeholder=\"Email Address\" value={this.state.email}></input>\n            <button className=\"btn pink lighten-1\" id='deleteUser' onClick={this.deleteUser}>Delete User Via Email</button>\n            <button style={{marginLeft:\"50px\"}} className=\"btn pink lighten-1\" id='' onClick={this.activeAction}>Retrun</button>\n            </div>\n         )   \n    } else if (action === \"createAdmin\"){\n        return (\n            <div className=\"input-field\">\n            <input id=\"email\" onChange={this.handleChange} placeholder=\"Email Address\" value={this.state.email}></input>\n            <button className=\"btn pink lighten-1\" id='deleteUser' onClick={this.createAdmin}>Create Admin Via Email</button>\n            <button style={{marginLeft:\"50px\"}} className=\"btn pink lighten-1\" id='' onClick={this.activeAction}>Retrun</button>\n            </div>\n        )\n    }    \n    return (\n    <div className=\"container\">\n      <h5 className=\"black-text text-darken-3\">Admin Authorities Options:</h5>\n      <button className=\"btn pink lighten-1\" id='createAdmin' onClick={this.activeAction}>Add Admin Via Email</button>\n      <button style={{marginLeft:\"30px\"}} className=\"btn pink lighten-1\" id='deleteUser' onClick={this.activeAction}>Delete User</button>\n      <p>please choose option</p>\n      <Link className=\"btn blue lighten-1\" to='/admin'>Return to Admin Menu</Link>\n    </div>\n    )    \n  }\n}\n\nexport default AdminMenu","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport {findSites} from './SearchUtils'\r\nimport SiteComponent from '../sites/siteComponent'\r\nimport {myFirebase} from '../firebase/firebase'\r\nimport {getUserClaims, updateUserFavorites, getFavoritesIDs} from '../firebase/FirebaseUtilities'\r\n// import ReactPaginate from 'react-paginate'\r\nimport { PaginatedList } from 'react-paginated-list'\r\n\r\nconst options = [\r\n    { value: 'tags', label: 'Tags'},\r\n    { value: 'country', label: 'Country'},\r\n    { value: 'city', label: 'City'},\r\n    { value: 'name', label: 'Name'}\r\n]\r\n\r\nclass SearchMenu extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            userid: \"\",\r\n            claim: \"guest\",\r\n            searchVal: '',\r\n            topDownValue: 'tags',\r\n            siteList: [],\r\n            favoriteList: [],\r\n        }\r\n\r\n        this.onSearchButtonClicked = this.onSearchButtonClicked.bind(this);\r\n        this.updateSearchValue = this.updateSearchValue.bind(this);\r\n        this.updateTopDownhValue = this.updateTopDownhValue.bind(this);\r\n    };\r\n\r\n    async onSearchButtonClicked(e) {\r\n        e.preventDefault();\r\n\r\n        console.log(this.state.searchVal)\r\n        console.log(this.state.topDownValue)\r\n\r\n        const result = await findSites(this.state.topDownValue, this.state.searchVal)\r\n        console.log(result)\r\n        this.setState({siteList: result})\r\n    }\r\n\r\n    updateSearchValue(e) {\r\n      this.setState({searchVal: e.target.value})\r\n    }\r\n\r\n    updateTopDownhValue(e) {\r\n      this.setState({topDownValue: e.value})\r\n    }\r\n\r\n    renderButton(sid) {\r\n        if(this.state.claim !== \"guest\") {\r\n            if(!this.state.favoriteList.includes(sid)) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    async addSiteToFavorites(sid) {\r\n        var favorites = this.state.favoriteList\r\n        favorites.push(sid)\r\n        updateUserFavorites(this.state.userid, favorites)\r\n\r\n        this.setState({favoriteList: favorites})\r\n    }\r\n\r\n    async componentDidMount(){\r\n        //console.log(await getUserClaims())\r\n        //this.setState({claim: await getUserClaims()});\r\n        myFirebase.auth().onAuthStateChanged(async (user) => {\r\n            if(user) {\r\n                var siteList = await getFavoritesIDs(user.uid)\r\n                this.setState({userid: user.uid, claim: await getUserClaims(user), favoriteList: siteList});\r\n            }\r\n            //get favorites from user and save to this.state.favoriteList\r\n       })\r\n    }\r\n    render() {\r\n        const { siteList } = this.state;\r\n        // console.log(siteList);\r\n        const mapping = (list) => list.map((site, i) => {\r\n            return  <div key={i} >\r\n                            <SiteComponent key={i} props={site}/>\r\n                            {this.renderButton(site.id) && <button onClick={() => this.addSiteToFavorites(site.id)}>Add to favorites</button>}\r\n                        </div>\r\n        });\r\n        //if site-id is not in favoritesList show button to add to favorites\r\n      \r\n\r\n        return (\r\n            <div>\r\n                {/* Search site form */}\r\n                <form ref={this.form} id=\"search-form\">\r\n                    <div className=\"search-field\">\r\n                        <input ref={this.searchVal} onChange={this.updateSearchValue} type=\"text\" required />\r\n                    </div>\r\n                    <Select ref={this.dropList} defaultValue={options[0]} onChange={this.updateTopDownhValue} options={options} />\r\n                    <div>\r\n                        <button onClick={this.onSearchButtonClicked}>Search</button>\r\n                    </div>\r\n                    <p className=\"error pink-text center-align\"></p>\r\n                </form>\r\n                \r\n                {/* Results */}\r\n                <div className=\"container\">\r\n                    {siteList.length != 0 && <PaginatedList\r\n                        list={siteList}\r\n                        itemsPerPage={3}\r\n                        renderList={mapping}/>}\r\n                </div>\r\n            </div>\r\n        )    \r\n    }\r\n}\r\n\r\nexport default SearchMenu","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst h1Style = {\r\n    display:\"block\",\r\n    color:\"darkblue\",\r\n    fontWEIGHT:\"bold\"\r\n}\r\nconst buttonStyle = {\r\n    backgroundColor:\"lightBlue\",\r\n    color:\"white\",\r\n    padding:\"8px\",\r\n    border:\"black\",\r\n    textAlight:\"center\",\r\n    margin:\"4px 2px\",\r\n    borderRadius:\"12px\"\r\n}\r\n\r\nclass About extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 style={h1Style}> About us </h1>\r\n        <div className=\"elementor-widget-container\">\r\n    \t\t\t<p><strong>SonShine: bringing light to the world in their memory</strong>, was founded by Bat-Galim and Ophir Shaer in memory of their son Gil-ad, one of the three boys kidnapped and murdered in the summer of 2014.</p>\r\n          <p><strong>During the eighteen <em>(chai), </em>days of searching, worrying and not knowing what had happened to the kidnapped boys, we experienced unprecedented support from Jews all over the world. This was absolute proof of the strong feelings of mutual responsibility and the global connection felt by Jews throughout the world. Our goal is to encourage and leverage this connection and strength.</strong></p>\r\n          <p><strong>The strength we discovered as individuals and as a nation during those difficult eighteen days, and the optimistic approach we chose after discovering the bitter fate of the boys, must inform our day to day lives and strengthen the spirit of every Jew throughout the world</strong>. &nbsp;Bat-Galim Shaer</p>\r\n          <p><img className=\"wp-image-1024 alignright\" src=\"http://sonshine.org.il/wp-content/uploads/2019/07/---.jpg\" alt=\"\" width=\"569\" height=\"379\" srcSet=\"http://sonshine.org.il/wp-content/uploads/2019/07/---.jpg 1600w, http://sonshine.org.il/wp-content/uploads/2019/07/----300x200.jpg 300w, http://sonshine.org.il/wp-content/uploads/2019/07/----768x512.jpg 768w, http://sonshine.org.il/wp-content/uploads/2019/07/----1024x682.jpg 1024w\" sizes=\"(max-width: 569px) 100vw, 569px\" /></p>\r\n          <p>Bat-Galim (47) an educator and social activist and her husband, Ophir (48) a lawyer and tax specialist established the organization to enhance optimism and a sense of unity in Israel and throughout the world.&nbsp; Its goal is to encourage a positive and constructive approach especially during times of crisis and challenge. They are the parents of six children and are among the founders and promoters of Unity Day and the Jerusalem Prize for Jewish Unity.</p>\r\n          <p>Bat-Galim has been its CEO since its beginning. She is an educator for over twenty years with a B.A. in History and Political Science and an M.A. in Educational Administration. She lectures in Israel and throughout the world to promote dialogue and projects to foster Jewish unity.</p>\r\n          <p>The activities of the three families to promote unity and connections within Israeli society and throughout the world was formally recognized by the Government of Israel when the three mothers were honored by the privilege of lighting a torch at the National Independence Day Celebration in 2019.</p>\r\n          <p>Sonshine continues to work on projects and new initiatives to foster optimism and unity among the Jewish people.</p>\r\n          <p><iframe src=\"https://www.youtube.com/embed/SQuo9tAFJMA\" width=\"560\" height=\"315\" frameBorder=\"0\" allowFullScreen=\"allowfullscreen\"></iframe><iframe src=\"https://www.youtube.com/embed/I6fOafWrTOI\" width=\"560\" height=\"315\" frameBorder=\"0\" allowFullScreen=\"allowfullscreen\"></iframe></p>\r\n\t\t    </div>\r\n        <button style={buttonStyle}><Link style={{color:\"black\"}} to=\"/menu\">Retrun to main Menu</Link></button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default About","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst SignedInLinks = () => {\r\n  return (\r\n    <div>\r\n      <ul className=\"right\">\r\n\r\n        <li><NavLink to='/LogOut'>Log Out</NavLink></li>\r\n        <li><NavLink to='/about'>About</NavLink></li>\r\n        <li><NavLink to='/searchSite'>Search Site</NavLink></li>\r\n        <li><NavLink to='/favorites'>Favorites</NavLink></li>\r\n        <li><NavLink to='/' className=\"btn btn-floating pink lighten-1\">NN</NavLink></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignedInLinks","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst SignedOutLinks = () => {\r\n  return (\r\n    <div>\r\n      <ul className=\"right\">\r\n        <li><NavLink to='/LoginPage'>Log In</NavLink></li>\r\n        <li><NavLink to='/about'>About</NavLink></li>\r\n        <li><NavLink to='/searchSite'>Search Site</NavLink></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignedOutLinks"," import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nconst AdminLinks = () => {\n  return (\n    <div>\n      <ul className=\"right\">\n        <li><NavLink to='/admin'>Admin Page</NavLink></li>\n      </ul>\n    </div>\n  )\n}\n\nexport default AdminLinks","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {myFirebase} from '../firebase/firebase';\r\nimport SignedInLinks from './SignedInLinks'\r\nimport SignedOutLinks from './SignedOutLinks'\r\nimport {getUserClaims} from '../firebase/FirebaseUtilities'\r\nimport AdminLinks from './AdminLinks';\r\n\r\n\r\nclass Navbar extends Component {\r\n  state=({\r\n    isLoggedIn: false,\r\n    isAdmin:false\r\n  }) \r\n  \r\n  async componentDidMount(){\r\n    myFirebase.auth().onAuthStateChanged(async (user) => {\r\n      var claim = await getUserClaims(user);\r\n      if(claim === \"admin\"){\r\n        this.setState({isAdmin: true,\r\n                      isLoggedIn: true}\r\n      )}\r\n      else if(user){\r\n        this.setState({isLoggedIn: true})\r\n      }else{\r\n        this.setState({isLoggedIn: false,\r\n                      isAdmin: false\r\n        })\r\n      }      \r\n   })\r\n  }\r\n\r\n  render() {\r\n    if(this.state.isLoggedIn){\r\n      return (\r\n        <nav className=\"nav-wrapper grey darken-3\">\r\n        <div className=\"container\">\r\n          <Link to='/menu' className=\"brand-logo\">Jewish Trail</Link>\r\n          <SignedInLinks />\r\n          {this.state.isAdmin\r\n            ? <AdminLinks />\r\n            : null\r\n          }\r\n        </div>\r\n      </nav>\r\n      )\r\n    }\r\n    return (\r\n      <nav className=\"nav-wrapper grey darken-3\">\r\n        <div className=\"container\">\r\n          <Link to='/menu' className=\"brand-logo\">Jewish Trail</Link>\r\n          <SignedOutLinks />\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\nexport default Navbar","import React, { Component } from 'react';\r\nimport {myFirebase} from '../firebase/firebase';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Home extends Component {\r\n\r\n    logout(e){\r\n        // check if user online or not.\r\n        myFirebase.auth().signOut().then(() =>{\r\n            console.log(\"logged out\")\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Welcome!</h1>\r\n                <button  className=\"btn white lighten-1 z-depth-0 \"><Link to=\"LoginPage\">Log In</Link></button>\r\n                <button  className=\"btn white lighten-1 z-depth-0 \"><Link to=\"Menu\">Enter as guest </Link></button>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport {myFirebase} from '../firebase/firebase';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Home extends Component {\r\n\r\n    logout(e){\r\n        // check if user online or not.\r\n        myFirebase.auth().signOut().then(() =>{\r\n            console.log(\"logged out\")\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Its Time To Say Goodbye</h1>\r\n                <button onClick={this.logout}><Link to=\"/\">Logout</Link></button>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\n\r\nconst siteHandle = ({props,deleteSite}) => {\r\n  return (\r\n    <div className=\"card z-depth-0 project-summary\">\r\n    <div className=\"card-content grey-text text-darken-3\">\r\n      <div className=\"site-name \">name: {props.name}</div>\r\n      <div className=\"site-city \">city: {props.city}</div>\r\n      <div className=\"site-country \">Country: {props.country}</div>\r\n      {\r\n        <div className=\"container\">\r\n            {props.tags.map((tag, i) => {\r\n               return (<span key = {i}> {tag} </span>) \r\n            })}\r\n        </div>\r\n      }\r\n      <button onClick={()=>deleteSite(props.id,props.uid)}>Delete Site</button>  \r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default siteHandle","import React, { Component } from 'react'\r\nimport {getFavorites} from '../firebase/FirebaseUtilities'\r\nimport SiteHandle from './siteHandle'\r\nimport {myDatabase, myFirebase} from '../firebase/firebase'\r\n\r\nclass Favorites extends Component {\r\n  state = {\r\n    favoritesArr: [],\r\n    userid: \"\"\r\n  }\r\n  async componentDidMount(){\r\n    var siteList = []\r\n    myFirebase.auth().onAuthStateChanged(async (user) => {\r\n      siteList = await getFavorites(user.uid);\r\n      this.setState({\r\n        favoritesArr: siteList, userid: user.uid\r\n      });\r\n      // this.setState({claim: await getUserClaims(user)});\r\n    })\r\n  }\r\n  async deleteFromFirebase(id,uid){\r\n    var userid = this.state.userid;\r\n    var uidList =[]\r\n    this.state.favoritesArr.forEach(site=>{\r\n      if(site.uid !== uid){\r\n        uidList.push(site.uid);\r\n      }\r\n    })\r\n\r\n    await myDatabase.collection('accounts').doc(userid).update({\r\n    'favorites': uidList\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n  }\r\n\r\n  deleteSite = (id,uid) =>  {\r\n     let favorites = this.state.favoritesArr.filter(site =>{\r\n      return site.id !== id\r\n    });\r\n    this.setState({\r\n      favoritesArr: favorites\r\n    })\r\n    this.deleteFromFirebase(id,uid);\r\n  }\r\n\r\n\r\n  render() {\r\n    //if (this.state.favorites){  \r\n      return (\r\n        <div className=\"container\">\r\n            {this.state.favoritesArr.map((site, i) => (\r\n              <SiteHandle deleteSite ={this.deleteSite} key={i} props={site}/>\r\n            ))}\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default Favorites","import React, { Component } from \"react\";\nimport { getSiteByID } from '../firebase/FirebaseUtilities'\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\nimport { myIcon } from '../map/MapUtilities'\n\nclass SitePage extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            site_id: props.match.params.id,\n            name: '',\n            city: '',\n            country: '',\n            address: '',\n            fullInfo: '',\n            imageUrl: '',\n            externalSourceUrl: '',\n            latitude: 1,\n            longitude: 1\n        }\n    };\n\n    async componentWillMount() {\n        var all_site_props = await getSiteByID(this.state.site_id)\n        console.log(all_site_props)\n        this.setState({ name: all_site_props.name,\n                        city: all_site_props.city,\n                        country: all_site_props.country,\n                        address: all_site_props.address,\n                        fullInfo: all_site_props.fullInfo,\n                        imageUrl: all_site_props.imageUrl,\n                        externalSourceUrl: all_site_props.externalSourceUrl,\n                        latitude: all_site_props.latitude,\n                        longitude: all_site_props.longitude})\n    }\n\n    render() {\n        const position = [this.state.latitude, this.state.longitude]\n        const zoom = 17\n        return (\n            <div>\n                <h1>{this.state.name}</h1>\n                <h2>{this.state.city}</h2>\n                <h3>{this.state.country}</h3>\n                <h4>{this.state.address}</h4>\n                <p>{this.state.fullInfo}</p>\n                <img src={this.state.imageUrl} />\n                <a href={this.state.externalSourceUrl} style={{marginDown: '100px'}}>Source</a>\n                <div style={{height: '400px', width: '60%'}} >\n                    <Map style={{height: '400px', width: '60%'}}\n                        center={position} zoom={zoom} >\n                        <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        />\n                        { \n                            this.state.haveUsersLocation ? \n                            <Marker position={position} icon={myIcon}>\n                                <Popup>\n                                    A pretty CSS3 popup. <br /> Easily customizable.\n                                </Popup>\n                            </Marker> : ''\n                        }\n                        <Marker position={position} icon={myIcon} />\n                    </Map>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SitePage","import React, { Component } from 'react'\nimport Select from 'react-select'\nimport {findSites} from '../search/SearchUtils'\nimport SiteComponent from '../sites/siteComponent'\nimport {getSiteByID,createNewRoad}  from '../firebase/FirebaseUtilities'\nimport { myDatabase } from '../firebase/firebase'\n\nconst options = [\n    { value: 'tags', label: 'Tags'},\n    { value: 'country', label: 'Country'},\n    { value: 'city', label: 'City'},\n    { value: 'name', label: 'Name'}\n]\n\nclass RoadForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            userid: \"\",\n            claim: \"guest\",\n            searchVal: '',\n            topDownValue: 'tags',\n            siteListResult: [],\n            siteList:[],\n            name:\"\",\n            description:\"\"\n        }\n\n        this.onSearchButtonClicked = this.onSearchButtonClicked.bind(this);\n        this.updateSearchValue = this.updateSearchValue.bind(this);\n        this.updateTopDownhValue = this.updateTopDownhValue.bind(this);\n        this.createNewRoadSubmit = this.createNewRoadSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    };\n\n    async onSearchButtonClicked(e) {\n        e.preventDefault();\n\n        // console.log(this.state.searchVal)\n        // console.log(this.state.topDownValue)\n\n        const result = await findSites(this.state.topDownValue, this.state.searchVal)\n        // console.log(result)\n        this.setState({siteListResult: result})\n    }\n\n    updateSearchValue(e) {\n      this.setState({searchVal: e.target.value})\n    }\n\n    updateTopDownhValue(e) {\n      this.setState({topDownValue: e.value})\n    }\n    \n    renderButton(sid) {\n        const site = this.state.siteList.find((s)=> s.siteID === sid );\n        return !site;\n        \n    }\n    async createNewRoadSubmit(){\n        if(!this.state.siteList.length){\n            alert(\"no sites where selected\")\n            return\n        }\n\n        const roadName = this.state.name;\n        const roadDescription = this.state.description;\n        let siteListID = []\n        this.state.siteList.forEach((site) => siteListID.push(site.id));\n        const road = {siteListID,roadName,roadDescription}\n        await createNewRoad(road);\n        //console.log(\"created new road\")\n    }\n    async addSiteToRoadList(siteID){\n        const siteData = await getSiteByID(siteID)\n        const siteObject = {\n            id:siteID,\n            ...siteData\n        }\n        var siteList = this.state.siteList\n        siteList.push(siteObject)\n        this.setState({\n            siteList\n        })\n        // console.log(siteList)\n    }\n    removeSite(index){\n        var siteList = [...this.state.siteList]\n        siteList.splice(index,1);\n        this.setState({siteList});\n        // console.log(index)\n        // this.setState({ siteList: this.state.siteList.splice(index, 1)});\n    }\n\n    handleChange(e) {\n        this.setState({ [e.target.name]: e.target.value });\n      }\n\n    render() {\n\n        return (\n            \n            <div className=\"col-md\">\n                <form>\n                    <div className=\"input-field\">\n                        <input type=\"text\" id='name' onChange={this.handleChange} />\n                        <label htmlFor=\"name\">  Road  Name</label>\n                        </div>\n                    <div className=\"for-group\">\n                         <label >Road Description</label>\n                        <textarea value={this.description} onChange={this.handleChange} type=\"description\" className=\"form-control\" name=\"description\" placeholder=\"Road Description\" />\n                    </div>\n                 </form>\n                 <button type=\"submit\" onClick={this.createNewRoadSubmit} className=\"btn pink lighten-1\">Submit</button>   \n                <ul className=\"container\">\n                    {this.state.siteList.map((site, i) => {\n                        return (\n                            <div key={i} >\n                            <li>\n                                <SiteComponent props={site}/>\n                            </li>\n                            <button onClick={() => this.removeSite(i)}>remove Site </button>\n                            </div>)\n\n                  })}\n                </ul>\n\n\n\n                <form ref={this.form} id=\"search-form\">\n                    <div className=\"search-field\">\n                        <input ref={this.searchVal} onChange={this.updateSearchValue} type=\"text\" required />\n                    </div>\n                    <Select ref={this.dropList} onChange={this.updateTopDownhValue} options = {options} />\n                    <div>\n                        <button onClick={this.onSearchButtonClicked}>Search</button>\n                    </div>\n                    <p className=\"error pink-text center-align\"></p>\n                </form>\n                \n                <div className=\"container\">\n                    {this.state.siteListResult.map((site, i) => {\n                        if(this.renderButton(site.id)) {\n                            return  <div key={i} >\n                                        <SiteComponent props={site}/>\n                                        <button onClick={() => this.addSiteToRoadList(site.id)}>Add to Road</button>\n                                    </div>\n                        }\n                        return <SiteComponent key={i} props={site}/>\n                    //if site-id is not in favoritesList show button to add to favorites\n                  })}\n                </div>\n            </div>\n        )    \n    }\n}\n\nexport default RoadForm","import React, { Component } from 'react'\r\n//import firebase from '../firebase'\r\nimport {UpdateSite} from '../firebase/FirebaseUtilities'\r\nimport { Link } from 'react-router-dom'\r\nimport {getSiteByID} from '../firebase/FirebaseUtilities'\r\n\r\nclass UpdateForm extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        id: props.match.params.id,\r\n        isLoaded:false\r\n      }\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    };\r\n\r\n  async componentDidMount(){\r\n    const id = this.state.id\r\n    let site = await getSiteByID(id);\r\n  \r\n    this.setState({\r\n      ...site,\r\n       id,\r\n       isLoaded:true})\r\n  }  \r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value\r\n    })\r\n  }\r\n  handleChangeTokens(e,index){\r\n    var tags  = this.state.tags\r\n    tags[index] = e.target.value;\r\n    this.setState({\r\n      tags: tags\r\n    })\r\n  }\r\n  addToken = (e) => {\r\n    this.setState({\r\n      tags:[...this.state.tags,\"\"]\r\n    })\r\n  }\r\n\r\n  async handleSubmit(e){  \r\n    e.preventDefault();\r\n    var site = {\r\n      id: this.state.id,\r\n      name: this.state.name,\r\n      city: this.state.city,\r\n      country: this.state.country,\r\n      tags: this.state.tags,\r\n      adress: this.state.adress,\r\n      externalSourceUrl: this.state.externalSourceUrl,\r\n      imageUrl: this.state.imageUrl,\r\n      fullInfo: this.state.fullInfo,\r\n      partialInfo: this.state.partialInfo,\r\n      latitude: parseFloat(this.state.latitude),\r\n      longitude: parseFloat(this.state.longitude)\r\n    }\r\n    \r\n    await UpdateSite(site)\r\n    alert(site.name + \" has updated!\");\r\n    this.props.history.push('/adminPage')\r\n  }\r\n\r\n  deleteTag = (e,index) =>{\r\n    var tags = [...this.state.tags]\r\n    tags.splice(index,1)\r\n    this.setState({tags: tags});\r\n  }\r\n\r\n\r\n  render() {\r\n    if(!this.state.isLoaded){\r\n      return <span>Loading...</span>\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n          <h5 className=\"grey-text text-darken-3\">Update a Site</h5>\r\n        <form onSubmit={(e)=> this.handleSubmit(e)} id=\"create-site-form\">\r\n          <div className=\"input-field\">\r\n            <input type=\"text\" id='name' onChange={this.handleChange}  value = {this.state.name} required></input>\r\n            <label htmlFor=\"name\">  Site Name</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"city\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.city} required></textarea>\r\n            <label htmlFor=\"city\">  City Name</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"country\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.country} required></textarea>\r\n            <label htmlFor=\"country\">  Country Name</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"adress\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.adress} required></textarea>\r\n            <label htmlFor=\"adress\">  Adress</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"externalSourceUrl\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.externalSourceUrl} required></textarea>\r\n            <label htmlFor=\"externalSourceUrl\">  External Source Url</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"imageUrl\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.imageUrl} required></textarea>\r\n            <label htmlFor=\"imageUrl\">  Image Url Link</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"fullInfo\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.fullInfo} required></textarea>\r\n            <label htmlFor=\"fullInfo\"> Enter Descpirtion</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"partialInfo\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.partialInfo} required></textarea>\r\n            <label htmlFor=\"partialInfo\">  Enter marker Descpirtion</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"latitude\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.latitude} required></textarea>\r\n            <label htmlFor=\"latitude\"> Enter latitude</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <textarea id=\"longitude\" className=\"materialize-textarea\" onChange={this.handleChange} value = {this.state.longitude} required></textarea>\r\n            <label htmlFor=\"longitude\"> Enter longitude</label>\r\n          </div>\r\n          \r\n          <label>Tags</label>\r\n          {\r\n            this.state.tags.map((token,index) => {\r\n              return (\r\n                <div key={index}>\r\n                  <textarea  onChange={(e) => this.handleChangeTokens(e,index)} value={token}  /> \r\n                  <button type=\"button\" onClick={(e) => this.deleteTag(index)}> Delete Tag</button>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n\r\n          <hr/>\r\n          <button type=\"button\" id=\"token\" onClick={this.addToken}>Add Tag</button>\r\n          <hr/>\r\n          <div className=\"input-field\">\r\n            <button type=\"submit\" className=\"btn pink lighten-1\" color=\"red\">Update Site</button>\r\n            <button  type=\"button\" className=\"btn pink lighten-1\" style={{marginLeft:\"30px\"}}><Link className=\"white-text\" to=\"/adminPage\">Return to Admin Menu</Link></button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateForm","import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route} from 'react-router-dom'\n\nimport Menu from './components/main-menu/Menu'\nimport AdminMenu from './components/admin/AdminMenu'\nimport LoginPage from './components/login/LoginPage'\nimport SignUp from './components/login/SignUp'\nimport ChangeSite from './components/admin/ChangeSite';\nimport CreateSite from './components/admin/CreateSite';\nimport DeleteSite from './components/admin/DeleteSite';\nimport AdminPage from './components/admin/AdminPage';\nimport AuthMenu from './components/admin/AuthMenu';\nimport SearchMenu from './components/search/SearchMenu';\nimport About from './components/main-menu/about';\nimport Navbar from './components/layout/Navbar'\nimport Home from './components/login/Home';\nimport LogOut from './components/login/LogOut';\nimport {myFirebase} from './components/firebase/firebase';\nimport Favorites from './components/favorites/Favorites';\nimport SitePage from './components/sites/SitePage'\nimport RoadForm from './components/road/RoadForm';\nimport UpdateForm from './components/sites/UpdateForm'\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    myFirebase.auth().onAuthStateChanged((user) => {\n      console.log(user);\n      if (user) {\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n      } else {\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    // const user = {\n    //   claims:\"admin\" \n    // }\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n        <Navbar />\n          <header className=\"App-header\">\n            <script src=\"https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js\"></script>\n            <script src=\"https://www.gstatic.com/firebasejs/7.6.1/firebase-firestore.js\"></script>\n            <script src=\"https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js\"></script>\n            <script src=\"https://cdn.firebase.com/libs/firebaseui/4.0.0/firebaseui.js\"></script>\n            <link rel=\"manifest\" href=\"/manifest.json\"></link>\n            <link rel=\"stylesheet\" href=\"styles.css\"></link>\n          </header>\n          <Switch>\n            <Route path='/' exact component={Home} />\n            <Route path='/Menu'  component={Menu} />\n            <Route path='/LoginPage' component={LoginPage} />\n            <Route path='/LogOut' component={LogOut} />\n            <Route path='/SignUp' component={SignUp} />\n            <Route path='/adminPage' component={AdminMenu} />\n            <Route path='/createSite' component={CreateSite} />\n            <Route path='/deleteSite' component={DeleteSite} />\n            <Route exact path='/updateSite' component={ChangeSite} />\n            <Route exact path='/updateSite/:id' component={UpdateForm} />\n            <Route path='/auth' component={AuthMenu} />\n            <Route path='/searchSite' component={SearchMenu} />\n            <Route path='/favorites' component={Favorites} />\n            <Route path='/about' component={About} />\n            <Route exact path='/site/:id' component={SitePage} />\n            <Route exact path='/RoadForm' component={RoadForm} />\n            <Route exact path='/admin' component={AdminPage} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.1/8 is considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n  \r\n  export default function register() {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Lets check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not local host. Just register service worker\r\n          registerValidSW(swUrl);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the old content will have been purged and\r\n                // the fresh content will have been added to the cache.\r\n                // It's the perfect time to display a \"New content is\r\n                // available; please refresh.\" message in your web app.\r\n                console.log('New content is available; please refresh.');\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        if (\r\n          response.status === 404 ||\r\n          response.headers.get('content-type').indexOf('javascript') === -1\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(registration => {\r\n        registration.unregister();\r\n      });\r\n    }\r\n  }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport * as serviceWorker from './serviceWorker';\nimport 'leaflet/dist/leaflet.css'\n// import 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n// Ask Ori about it \nregisterServiceWorker()\n"],"sourceRoot":""}